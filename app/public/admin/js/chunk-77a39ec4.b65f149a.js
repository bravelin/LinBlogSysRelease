(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77a39ec4"],{"07cb":function(t,e,n){},"2d43":function(t,e,n){var r=n("01f5"),a=n("6462"),o=n("db4b"),i=n("b146"),s=n("5824");t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d,p=e||s;return function(e,s,m){for(var g,v,h=o(e),b=a(h),S=r(s,m,3),_=i(b.length),y=0,O=n?p(e,_):c?p(e,0):void 0;_>y;y++)if((f||y in b)&&(g=b[y],v=S(g,y,h),t))if(n)O[y]=v;else if(v)switch(t){case 3:return!0;case 5:return g;case 6:return y;case 2:O.push(g)}else if(u)return!1;return d?-1:l||u?u:O}}},"3a5e":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"data-table-loading"},[n("v-progress-circular",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white",size:90}})],1)},a=[],o={name:"DataTableLoading",props:{show:{type:Boolean,default:!0}}},i=o,s=n("6691"),c=Object(s["a"])(i,r,a,!1,null,null,null);e["a"]=c.exports},"4db6":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"phrases-page page-container"},[n("v-layout",{staticClass:"pa-1",attrs:{row:"",wrap:""}},[n("div",{staticClass:"page-title"},[t._v("短语列表")]),n("v-spacer"),n("v-btn",{attrs:{depressed:"",dark:"",color:"indigo accent-1"},on:{click:function(e){return t.doAdd()}}},[t._v("新增")]),n("v-btn",{attrs:{depressed:"",dark:"",color:"green lighten-2"},on:{click:function(e){return t.doRefresh()}}},[t._v("刷新")])],1),n("DataList"),n("FormDialog"),n("Confirm",{attrs:{show:t.confirmDialogShow,message:t.confirmDialogMessage},on:{confirm:function(e){return t.doConfirm()},cancel:function(e){return t.doCloseConfirmDialog()}}})],1)},a=[],o=(n("2338"),n("f763"),n("fb37"),n("a506")),i=n("eb57"),s=n("0706"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table-container pl-2 pr-2 pb-2"},[n("div",{staticClass:"search-input-wrap"},[n("v-text-field",{attrs:{box:"","dont-fill-mask-blanks":"","single-line":"",color:"indigo accent-1",autocomplete:"off",disabled:t.dataLoading,"append-icon":"search",name:"searchKeys",label:"搜索...",type:"text",tabindex:"1",maxlength:"30"},on:{"click:append":function(e){return t.doSearch()}},model:{value:t.searchKeys,callback:function(e){t.searchKeys=e},expression:"searchKeys"}})],1),n("v-tabs",{model:{value:t.tabStatusActive,callback:function(e){t.tabStatusActive=e},expression:"tabStatusActive"}},t._l(t.tabStatusData,function(e,r){return n("v-tab",{key:r,on:{click:function(e){return t.doSwitchStatus(r)}}},[t._v(t._s(e.label))])}),1),n("v-data-table",{attrs:{headers:t.headers,"hide-actions":"","disable-initial-sort":"",items:t.listData,"no-data-text":"Sorry！未能查询到数据！"},scopedSlots:t._u([{key:"items",fn:function(e){return[n("td",[t._v(t._s(e.item.recordNo))]),n("td",[t._v(t._s(e.item.content))]),n("td",[t._v(t._s(e.item.loginName))]),n("td",[t._v(t._s(e.item.origin))]),n("td",[t._v(t._s(e.item.createdAt))]),n("td",{class:{"green-text":"1"==e.item.status,"red-text":"2"==e.item.status}},[t._v(t._s(e.item.statusName))]),n("td",[n("v-btn",{staticClass:"indigo--text text--accent-1",attrs:{flat:"",small:""},on:{click:function(n){return t.editItem(e.item)}}},[t._v("修改")]),n("v-btn",{staticClass:"red--text text--accent-1",attrs:{flat:"",small:""},on:{click:function(n){return t.deleteItem(e.item)}}},[t._v("删除")]),n("v-btn",{staticClass:"indigo--text text--accent-1",attrs:{flat:"",small:""},on:{click:function(n){return t.changeStatus(e.item)}}},[t._v(t._s("1"==e.item.status?"下线":"上线"))])],1)]}}])}),t.totalPage>0?n("div",{staticClass:"text-xs-center pt-3 pb-1"},[n("v-pagination",{attrs:{color:"indigo accent-1",circle:"",length:t.totalPage,"total-visible":7},on:{input:function(e){return t.doPageChange()}},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1):t._e(),n("Loading",{attrs:{show:t.dataLoading}})],1)},l=[],u=(n("608b"),n("3a5e")),d=n("591a");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(n,!0).forEach(function(e){Object(o["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var m=s["a"].PHRASES,g=Object(d["a"])(m).mapState,v={name:"ArticlesDataList",computed:p({},g(["dataLoading","listData","totalPage"])),components:{Loading:u["a"]},data:function(){return{tabStatusData:[{label:"全部状态",value:"all",index:0},{label:"在线状态",value:"1",index:1},{label:"下线状态",value:"2",index:2}],headers:[{text:"序号",align:"center",value:"recordNo",sortable:!1},{text:"内容",align:"center",value:"content",sortable:!1},{text:"作者",align:"center",value:"loginName",sortable:!1},{text:"出处",align:"center",value:"origin",sortable:!1},{text:"添加时间",align:"center",value:"createdAt",sortable:!1},{text:"状态",align:"center",value:"statusName",sortable:!1},{text:"操作",align:"center",value:"actions",sortable:!1}],searchKeys:"",tabStatusActive:0,currentPage:1,currentPageSize:15}},created:function(){var t=this,e=t.$store,n=t.$route.query;if(t.searchKeys=n.key?decodeURIComponent(n.key):"",n.status){var r=t.tabStatusData.find(function(t){return t.value==n.status});r&&(t.tabStatusActive=r.index)}t.currentPage=(n.page||1)-0,t.currentPageSize=(n.size||15)-0,t.queryData(),e.commit(i["a"].SWITCH_LOADING,!1)},methods:{deleteItem:function(t){this.$store.commit(m+"/"+i["a"].CHANGE_PHRASES_CONFIRM_DIALOG_STATUS,{show:!0,id:t.id,action:"DEL",message:"确定要删除这条短语？"})},changeStatus:function(t){this.$store.commit(m+"/"+i["a"].CHANGE_PHRASES_CONFIRM_DIALOG_STATUS,{show:!0,id:t.id,action:"1"==t.status?"DOWN":"UP",message:"确定要".concat("1"==t.status?"下线":"上线","这条短语？")})},editItem:function(t){this.$store.commit(m+"/"+i["a"].CHANGE_PHRASES_FORM_DIALOG_STATUS,{show:!0,action:"Update",id:t.id})},doSwitchStatus:function(t){var e=this;e.tabStatusActive=t,e.currentPage=1,e.queryData()},doSearch:function(){var t=this;t.currentPage=1,t.searchKeys=t.searchKeys.trim(),t.queryData()},doPageChange:function(){this.queryData()},queryData:function(){var t=this,e=t.$store;e.dispatch(m+"/"+i["a"].GET_PHRASES,{status:t.tabStatusData[t.tabStatusActive].value,page:t.currentPage,size:t.currentPageSize,key:t.searchKeys})}}},h=v,b=n("6691"),S=Object(b["a"])(h,c,l,!1,null,null,null),_=S.exports,y=n("9420"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.formDialogShow,width:"95%","max-width":"700px",persistent:""}},[n("v-card",[n("v-card-title",{staticClass:"deep-purple lighten-1 py-3 white--text text--darken-2",attrs:{"primary-title":""}},[t._v(t._s("Add"==t.formDialogAction?"添加":"修改")+"短语")]),n("v-card-text",{staticClass:"pb-0"},[n("v-form",{staticClass:"pr-1"},[n("v-textarea",{ref:"contentInput",attrs:{error:t.contentError,disabled:t.inprocess,name:"description",label:"内容",tabindex:"2",maxlength:"5000"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("v-text-field",{ref:"originInput",attrs:{"dont-fill-mask-blanks":"",error:t.originError,autocomplete:"off",disabled:t.inprocess,name:"title",label:"出处",type:"text",tabindex:"1",maxlength:"200"},model:{value:t.origin,callback:function(e){t.origin=e},expression:"origin"}})],1)],1),n("v-card-actions",{staticClass:"pb-3 pt-0"},[n("v-spacer"),n("v-btn",{attrs:{color:"indigo accent-1",dark:""},on:{click:function(e){return t.doCommit()}}},[t._v("确定")]),n("v-btn",{staticClass:"mr-2",attrs:{color:"blue lighten-1",dark:""},on:{click:function(e){return t.doClose()}}},[t._v("取消")])],1)],1),n("Loading",{attrs:{show:t.inprocess}})],1)},w=[];function A(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(n,!0).forEach(function(e){Object(o["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var P=s["a"].PHRASES,C=Object(d["a"])(P).mapState,D="$store.state.".concat(P,".formDialogShow"),E={name:"PhrasesFormDialog",components:{Loading:u["a"]},computed:x({},C(["formDialogShow","formDialogAction","formDialogId"])),watch:Object(o["a"])({},D,function(t){var e=this;if(t){if(t&&"Update"==e.formDialogAction){var n=e.$store;e.inprocess=!0,n.dispatch(P+"/"+i["a"].GET_PHRASE,e.formDialogId).then(function(t){e.origin=t.origin,e.content=t.content,e.inprocess=!1},function(t){e.showMessage(t,!1),e.inprocess=!1,setTimeout(function(){e.doClose()},1e3)})}}else e.content="",e.origin="",e.contentError=!1,e.originError=!1,e.inprocess=!1}),data:function(){return{content:"",origin:"",contentError:!1,originError:!1,inprocess:!1}},methods:{doCommit:function(){var t=this,e=t.$store;t.doCheckForm()&&(t.inprocess=!0,e.dispatch(P+"/"+i["a"].ADD_OR_UPDATE_PHRASE,{action:t.formDialogAction,id:t.formDialogId,origin:t.origin.trim(),content:t.content.trim()}).then(function(n){t.showMessage(n,!0),t.inprocess=!1,t.doClose(),e.dispatch(P+"/"+i["a"].GET_PHRASES)},function(e){t.showMessage(e,!1),t.inprocess=!1}))},doClose:function(){var t=this;t.$store.commit(P+"/"+i["a"].CHANGE_PHRASES_FORM_DIALOG_STATUS,{isShow:!1})},doCheckForm:function(){var t=this,e=t.$refs;return t.content.trim()?(t.contentError=!1,t.origin.trim()?(t.originError=!1,!0):(e.originInput.focus(),t.originError=!0,t.showMessage("需要输入出处！",!1),!1)):(e.contentInput.focus(),t.contentError=!0,t.showMessage("需要输入内容！",!1),!1)},showMessage:function(t,e){var n=this;n.$store.commit(i["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:t,status:e?"success":"error",delay:1500})}}},k=E,j=Object(b["a"])(k,O,w,!1,null,null,null),H=j.exports;function I(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(n,!0).forEach(function(e){Object(o["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var T=s["a"].PHRASES,G=Object(d["a"])(T).mapState,L={name:"Phrases",components:{DataList:_,Confirm:y["a"],FormDialog:H},computed:R({},G(["confirmDialogShow","confirmDialogMessage"])),methods:{doAdd:function(){this.$store.commit(T+"/"+i["a"].CHANGE_PHRASES_FORM_DIALOG_STATUS,{show:!0,action:"Add"})},doRefresh:function(){this.$store.dispatch(T+"/"+i["a"].GET_PHRASES)},doConfirm:function(){var t=this,e=t.$store;t.doCloseConfirmDialog(),e.dispatch(T+"/"+i["a"].CHANGE_PHRASE_STATUS).then(function(t){e.commit(i["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:t,status:"success",delay:1500}),e.dispatch(T+"/"+i["a"].GET_PHRASES)},function(t){e.commit(i["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:t,status:"error",delay:1500})})},doCloseConfirmDialog:function(){this.$store.commit(T+"/"+i["a"].CHANGE_PHRASES_CONFIRM_DIALOG_STATUS,{show:!1})}}},$=L,N=(n("895b"),Object(b["a"])($,r,a,!1,null,null,null));e["default"]=N.exports},5824:function(t,e,n){var r=n("f691");t.exports=function(t,e){return new(r(t))(e)}},"608b":function(t,e,n){"use strict";var r=n("b2f5"),a=n("2d43")(5),o="find",i=!0;o in[]&&Array(1)[o](function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("644a")(o)},"895b":function(t,e,n){"use strict";var r=n("07cb"),a=n.n(r);a.a},9420:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{value:t.show,width:"95%","max-width":"600px",persistent:""}},[n("v-card",[n("v-card-title",{staticClass:"deep-purple lighten-1 py-3 white--text text--darken-2",attrs:{"primary-title":""}},[t._v(t._s(t.title))]),n("v-card-text",{staticClass:"pa-4 red--text text--accent-1"},[t._v(t._s(t.message))]),n("v-card-actions",{staticClass:"pb-3 pt-0"},[n("v-spacer"),n("v-btn",{attrs:{color:"indigo accent-1",dark:""},on:{click:function(e){return t.doConfirm()}}},[t._v("确定")]),n("v-btn",{staticClass:"mr-2",attrs:{color:"blue lighten-1",dark:""},on:{click:function(e){return t.doCancel()}}},[t._v("取消")])],1)],1)],1)},a=[],o={name:"Confirm",props:{show:{type:Boolean,default:!1},title:{type:String,default:"提醒"},message:{type:String,default:""}},methods:{doConfirm:function(){this.$emit("confirm")},doCancel:function(){this.$emit("cancel")}}},i=o,s=n("6691"),c=Object(s["a"])(i,r,a,!1,null,null,null);e["a"]=c.exports},b5b8:function(t,e,n){var r=n("94ac");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f691:function(t,e,n){var r=n("88dd"),a=n("b5b8"),o=n("8b37")("species");t.exports=function(t){var e;return a(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)||(e=void 0),r(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}}}]);