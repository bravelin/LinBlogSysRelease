(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-620f121a"],{"3a5e":function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"data-table-loading"},[r("v-progress-circular",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white",size:90}})],1)},a=[],s={name:"DataTableLoading",props:{show:{type:Boolean,default:!0}}},n=s,i=r("6691"),c=Object(i["a"])(n,o,a,!1,null,null,null);t["a"]=c.exports},"60ca":function(e,t,r){"use strict";var o=r("a089"),a=r.n(o);a.a},9420:function(e,t,r){"use strict";var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:e.show,width:"95%","max-width":"600px",persistent:""}},[r("v-card",[r("v-card-title",{staticClass:"deep-purple lighten-1 py-3 white--text text--darken-2",attrs:{"primary-title":""}},[e._v(e._s(e.title))]),r("v-card-text",{staticClass:"pa-4 red--text text--accent-1"},[e._v(e._s(e.message))]),r("v-card-actions",{staticClass:"pb-3 pt-0"},[r("v-spacer"),r("v-btn",{attrs:{color:"indigo accent-1",dark:""},on:{click:function(t){return e.doConfirm()}}},[e._v("确定")]),r("v-btn",{staticClass:"mr-2",attrs:{color:"blue lighten-1",dark:""},on:{click:function(t){return e.doCancel()}}},[e._v("取消")])],1)],1)],1)},a=[],s={name:"Confirm",props:{show:{type:Boolean,default:!1},title:{type:String,default:"提醒"},message:{type:String,default:""}},methods:{doConfirm:function(){this.$emit("confirm")},doCancel:function(){this.$emit("cancel")}}},n=s,i=r("6691"),c=Object(i["a"])(n,o,a,!1,null,null,null);t["a"]=c.exports},a089:function(e,t,r){},e573:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"accounts-page page-container"},[r("v-layout",{staticClass:"pa-1",attrs:{row:"",wrap:""}},[r("div",{staticClass:"page-title"},[e._v("用户账号")]),r("v-spacer"),r("v-btn",{attrs:{depressed:"",dark:"",color:"indigo accent-1"},on:{click:function(t){return e.doAdd()}}},[e._v("新增账号")]),r("v-btn",{attrs:{depressed:"",dark:"",color:"green lighten-2"},on:{click:function(t){return e.doRefresh()}}},[e._v("刷新")])],1),r("DataList"),r("FormDialog"),r("Confirm",{attrs:{show:e.deleteDialogShow,message:e.deleteDialogMessage},on:{confirm:function(t){return e.doConfirmDel()},cancel:function(t){return e.doCloseDelDialog()}}}),r("Confirm",{attrs:{show:e.resetPasswordDialogShow,message:e.resetPasswordDialogMessage},on:{confirm:function(t){return e.doConfirmResetPassword()},cancel:function(t){return e.doCloseResetPasswordDialog()}}})],1)},a=[],s=(r("2338"),r("f763"),r("fb37"),r("a506")),n=r("eb57"),i=r("0706"),c=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"table-container pl-2 pr-2 pb-2"},[r("v-data-table",{attrs:{headers:e.headers,"hide-actions":"","disable-initial-sort":"",items:e.listData,"no-data-text":"Sorry！未能查询到数据！"},scopedSlots:e._u([{key:"items",fn:function(t){return[r("td",[e._v(e._s(t.item.recordNo))]),r("td",[e._v(e._s(t.item.loginName))]),r("td",[e._v(e._s(t.item.realName))]),r("td",[e._v(e._s(t.item.lastLoginTime))]),r("td",[e._v(e._s(t.item.createdAt))]),r("td",[e._v(e._s(t.item.roleName))]),r("td",["0"!=t.item.role?r("v-btn",{staticClass:"indigo--text text--accent-1",attrs:{flat:"",small:""},on:{click:function(r){return e.editItem(t.item)}}},[e._v("修改")]):e._e(),"0"!=t.item.role?r("v-btn",{staticClass:"red--text text--accent-1",attrs:{flat:"",small:""},on:{click:function(r){return e.deleteItem(t.item)}}},[e._v("删除")]):e._e(),"0"!=t.item.role?r("v-btn",{staticClass:"indigo--text text--accent-1",attrs:{flat:"",small:""},on:{click:function(r){return e.resetPassword(t.item)}}},[e._v("重置密码")]):e._e()],1)]}}])}),r("Loading",{attrs:{show:e.dataLoading}})],1)},l=[],d=r("3a5e"),m=r("591a");function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(r,!0).forEach(function(t){Object(s["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=i["a"].ACCOUNTS,g=Object(m["a"])(p).mapState,w={name:"AccountsDataList",computed:f({},g(["dataLoading","listData"])),components:{Loading:d["a"]},data:function(){return{headers:[{text:"序号",align:"center",value:"recordNo",sortable:!1},{text:"登录名称",align:"center",value:"loginName",sortable:!1},{text:"真实名称",align:"center",value:"realName",sortable:!1},{text:"上次登录时间",align:"center",value:"lastLoginTime",sortable:!1},{text:"创建时间",align:"center",value:"createdAt",sortable:!1},{text:"角色",align:"center",value:"roleName",sortable:!1},{text:"操作",align:"center",value:"actions",sortable:!1}]}},methods:{deleteItem:function(e){this.$store.commit(p+"/"+n["a"].CHANGE_ACCOUNTS_DELETE_DIALOG_STATUS,{show:!0,id:e.id,message:"确定要删除这个账号：".concat(e.loginName,"？")})},editItem:function(e){this.$store.commit(p+"/"+n["a"].CHANGE_ACCOUNTS_FORM_DIALOG_STATUS,{show:!0,action:"Update",id:e.id})},resetPassword:function(e){this.$store.commit(p+"/"+n["a"].CHANGE_ACCOUNTS_RESET_PASSWORD_DIALOG_STATUS,{show:!0,id:e.id,message:"确定要重置此账号的密码：".concat(e.loginName,"？")})}}},h=w,v=r("6691"),b=Object(v["a"])(h,c,l,!1,null,null,null),_=b.exports,C=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{attrs:{value:e.formDialogShow,width:"95%","max-width":"600px",persistent:""}},[r("v-card",[r("v-card-title",{staticClass:"deep-purple lighten-1 py-3 white--text text--darken-2",attrs:{"primary-title":""}},[e._v(e._s("Add"==e.formDialogAction?"添加":"修改")+"账号")]),r("v-card-text",{staticClass:"pb-0"},[r("v-form",{staticClass:"pr-1"},[r("input",{attrs:{type:"text",name:"userName",hidden:""}}),r("input",{attrs:{type:"text",name:"realName",hidden:""}}),r("input",{attrs:{type:"password",name:"password",hidden:""}}),r("input",{attrs:{type:"password",name:"confirmPassword",hidden:""}}),r("v-text-field",{ref:"loginNameInput",attrs:{"dont-fill-mask-blanks":"",error:e.loginNameError,autocomplete:"off",disabled:e.inprocess||"Update"==e.formDialogAction,name:"userName",label:"账号登录名称",type:"text",tabindex:"1",maxlength:"30"},model:{value:e.loginName,callback:function(t){e.loginName=t},expression:"loginName"}}),r("v-text-field",{ref:"realNameInput",attrs:{"dont-fill-mask-blanks":"",error:e.realNameError,autocomplete:"off",disabled:e.inprocess,name:"realName",label:"账号真实名称",type:"text",tabindex:"2",maxlength:"30"},model:{value:e.realName,callback:function(t){e.realName=t},expression:"realName"}}),r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"Add"==e.formDialogAction,expression:"formDialogAction == 'Add'"}],ref:"passwordInput",attrs:{"dont-fill-mask-blanks":"",error:e.passwordError,autocomplete:"new-password",disabled:e.inprocess,name:"password",label:"账号登录密码",type:"password",tabindex:"3",maxlength:"30"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),r("v-text-field",{directives:[{name:"show",rawName:"v-show",value:"Add"==e.formDialogAction,expression:"formDialogAction == 'Add'"}],ref:"confirmPasswordInput",attrs:{"dont-fill-mask-blanks":"",error:e.confirmPasswordError,autocomplete:"new-password",disabled:e.inprocess,name:"confirmPassword",label:"确认登录密码",type:"password",tabindex:"4",maxlength:"30"},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1),r("v-card-actions",{staticClass:"pb-3 pt-0"},[r("v-spacer"),r("v-btn",{attrs:{color:"indigo accent-1",dark:""},on:{click:function(t){return e.doCommit()}}},[e._v("确定")]),r("v-btn",{staticClass:"mr-2",attrs:{color:"blue lighten-1",dark:""},on:{click:function(t){return e.doClose()}}},[e._v("取消")])],1)],1),r("Loading",{attrs:{show:e.inprocess}})],1)},O=[];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function N(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(r,!0).forEach(function(t){Object(s["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var S=i["a"].ACCOUNTS,D=Object(m["a"])(S).mapState,E="$store.state.".concat(S,".formDialogShow"),y={name:"AccountsFormDialog",components:{Loading:d["a"]},computed:N({},D(["formDialogShow","formDialogAction","formDialogId"])),watch:Object(s["a"])({},E,function(e){var t=this;if(e){if(e&&"Update"==t.formDialogAction){var r=t.$store;t.inprocess=!0,r.dispatch(S+"/"+n["a"].GET_ACCOUNT,t.formDialogId).then(function(e){t.loginName=e.loginName,t.realName=e.realName,t.inprocess=!1},function(e){t.showMessage(e,!1),t.inprocess=!1,setTimeout(function(){t.doClose()},1e3)})}}else t.loginName="",t.realName="",t.password="",t.confirmPassword="",t.loginNameError=!1,t.realNameError=!1,t.passwordError=!1,t.confirmPasswordError=!1,t.inprocess=!1}),data:function(){return{loginName:"",realName:"",password:"",confirmPassword:"",loginNameError:!1,realNameError:!1,passwordError:!1,confirmPasswordError:!1,inprocess:!1}},methods:{doCommit:function(){var e=this,t=e.$store;e.doCheckForm()&&(e.inprocess=!0,t.dispatch(S+"/"+n["a"].ADD_OR_UPDATE_ACCOUNT,{action:e.formDialogAction,id:e.formDialogId,loginName:e.loginName.trim(),realName:e.realName.trim(),password:e.password}).then(function(r){e.showMessage(r,!0),e.inprocess=!1,e.doClose(),t.dispatch(i["a"].ACCOUNTS+"/"+n["a"].GET_ALL_ACCOUNTS)},function(t){e.showMessage(t,!1),e.inprocess=!1}))},doClose:function(){var e=this;e.$store.commit(i["a"].ACCOUNTS+"/"+n["a"].CHANGE_ACCOUNTS_FORM_DIALOG_STATUS,{isShow:!1})},doCheckForm:function(){var e=this,t=e.$refs;if("Add"==e.formDialogAction&&!e.loginName.trim())return t.loginNameInput.focus(),e.loginNameError=!0,e.showMessage("请输入登录账号！",!1),!1;if(e.loginNameError=!1,!e.realName.trim())return t.realNameInput.focus(),e.realNameError=!0,e.showMessage("请输入账号真实名称！",!1),!1;if(e.realNameError=!1,"Add"==e.formDialogAction){if(!e.password)return t.passwordInput.focus(),e.passwordError=!0,e.showMessage("请输入账号密码！",!1),!1;if(e.passwordError=!1,!e.confirmPassword)return t.confirmPasswordInput.focus(),e.confirmPasswordError=!0,e.showMessage("请确认账号密码！",!1),!1;if(e.confirmPasswordError=!1,e.password!=e.confirmPassword)return e.showMessage("两次输入的密码不一致！",!1),!1}return!0},showMessage:function(e,t){var r=this;r.$store.commit(n["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:e,status:t?"success":"error",delay:1500})}}},T=y,P=Object(v["a"])(T,C,O,!1,null,null,null),x=P.exports,L=r("9420");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(r,!0).forEach(function(t){Object(s["a"])(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var U=i["a"].ACCOUNTS,G=Object(m["a"])(U).mapState,I={name:"Accounts",components:{DataList:_,FormDialog:x,Confirm:L["a"]},computed:k({},G(["deleteDialogShow","deleteDialogMessage","resetPasswordDialogShow","resetPasswordDialogMessage"])),created:function(){var e=this,t=e.$store;t.dispatch(U+"/"+n["a"].GET_ALL_ACCOUNTS),t.commit(n["a"].SWITCH_LOADING,!1)},methods:{doAdd:function(){var e=this;e.$store.commit(U+"/"+n["a"].CHANGE_ACCOUNTS_FORM_DIALOG_STATUS,{show:!0,action:"Add"})},doRefresh:function(){this.$store.dispatch(U+"/"+n["a"].GET_ALL_ACCOUNTS)},doConfirmDel:function(){var e=this,t=e.$store;e.doCloseDelDialog(),t.dispatch(U+"/"+n["a"].DELETE_ACCOUNT).then(function(e){t.commit(n["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:e,status:"success",delay:1500}),t.dispatch(U+"/"+n["a"].GET_ALL_ACCOUNTS)},function(e){t.commit(n["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:e,status:"error",delay:1500})})},doCloseDelDialog:function(){this.$store.commit(U+"/"+n["a"].CHANGE_ACCOUNTS_DELETE_DIALOG_STATUS,{show:!1})},doConfirmResetPassword:function(){var e=this,t=e.$store;e.doCloseResetPasswordDialog(),t.dispatch(U+"/"+n["a"].ACCOUNT_RESET_PASSWORD).then(function(e){t.commit(n["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:e,status:"success",delay:4500})},function(e){t.commit(n["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:e,status:"error",delay:1500})})},doCloseResetPasswordDialog:function(){this.$store.commit(U+"/"+n["a"].CHANGE_ACCOUNTS_RESET_PASSWORD_DIALOG_STATUS,{show:!1})}}},$=I,M=(r("60ca"),Object(v["a"])($,o,a,!1,null,null,null));t["default"]=M.exports}}]);