(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b22eeba"],{"033a":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page login-page"},[i("div",{staticClass:"landscape"}),i("div",{staticClass:"filter"}),i("canvas",{ref:"container"}),i("LoginDialog")],1)},n=[],o=i("eb57");i("1c74");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function l(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var h=function(){function t(e,i,s,n,o){a(this,t),this.id=e,this.ctx=i,this.x=s,this.y=n,this.r=Math.floor(2*Math.random())+1;var r=(Math.floor(10*Math.random())+1)/10/2;this.color="rgba(255, 255, 255,"+r+")"}return l(t,[{key:"draw",value:function(){var t=this.ctx;t.fillStyle=this.color,t.shadowBlur=2*this.r,t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI,!1),t.closePath(),t.fill()}},{key:"move",value:function(){var t=document.documentElement.clientHeight||window.innerHeight;this.y-=.15,this.y<=-10&&(this.y=t+10),this.draw()}}]),t}(),c=function(){function t(e){a(this,t),this.x=-1,this.y=-1,this.ctx=e,this.length=-1,this.angle=30,this.width=-1,this.height=-1,this.speed=1,this.offsetX=-1,this.offsetY=-1,this.alpha=1,this.color1="",this.color2=""}return l(t,[{key:"init",value:function(){this.getPos(),this.alpha=1,this.length=Math.ceil(30*Math.random()+150),this.angle=30,this.speed=2*Math.random()+3;var t=Math.cos(this.angle*Math.PI/180),e=Math.sin(this.angle*Math.PI/180);this.width=this.length*t,this.height=this.length*e,this.offsetX=this.speed*t,this.offsetY=this.speed*e}},{key:"countPos",value:function(){this.x=this.x-this.offsetX,this.y=this.y+this.offsetY}},{key:"getPos",value:function(){this.x=Math.random()*window.innerWidth+.33*window.innerWidth,this.y=-.5*Math.random()*window.innerHeight}},{key:"draw",value:function(){var t=this.ctx;t.save(),t.beginPath(),t.lineWidth=3.5,t.globalAlpha=this.alpha;var e=t.createLinearGradient(this.x,this.y,this.x+this.width,this.y-this.height);e.addColorStop(0,"rgba(255, 255, 255, 0.8)"),e.addColorStop(.4,"rgba(100, 100, 100, 0.3)"),e.addColorStop(.7,"rgba(9, 7, 35, 0.2)"),e.addColorStop(1,"rgba(9, 7, 35, 0)"),t.strokeStyle=e,t.moveTo(this.x,this.y),t.lineTo(this.x+this.width,this.y-this.height),t.closePath(),t.stroke(),t.restore()}},{key:"move",value:function(){this.countPos(),this.alpha+=9e-4,this.draw()}}]),t}(),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-layout",{attrs:{row:"","align-center":"","justify-center":""}},[i("v-flex",{attrs:{xl4:"",lg5:"",md7:"",sm10:"",xs12:""}},[i("v-card",{staticClass:"login-dialog",class:{active:t.show}},[i("v-toolbar",{attrs:{dark:"",color:"purple darken-4",height:70}},[i("v-toolbar-title",{staticClass:"font-weight-bold dialog-title"},[i("span",[t._v("LinBlog")]),t._v("管理后台登录")])],1),i("v-card-text",{staticClass:"pb-0"},[i("v-form",{staticClass:"pr-1",attrs:{autocomplete:"off"}},[i("input",{attrs:{type:"text",name:"userName",hidden:""}}),i("input",{attrs:{type:"password",name:"password",hidden:""}}),i("v-text-field",{ref:"loginNameInput",attrs:{"dont-fill-mask-blanks":"","single-line":"",error:t.loginNameError,color:"purple darken-3",autocomplete:"off",disabled:t.inprocess,"prepend-icon":"account_circle",name:"userName",label:"您的账号名称",type:"text",tabindex:"1",maxlength:"30"},model:{value:t.loginName,callback:function(e){t.loginName=e},expression:"loginName"}}),i("v-text-field",{ref:"passwordInput",attrs:{"dont-fill-mask-blanks":"","single-line":"",error:t.passwordError,color:"purple darken-3",autocomplete:"new-password",disabled:t.inprocess,"prepend-icon":"lock",name:"password",label:"您的密码",type:"password",tabindex:"2",maxlength:"30"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),i("v-checkbox",{staticClass:"mt-1",attrs:{color:"purple darken-3",label:"记住账号和密码"},model:{value:t.loginRemember,callback:function(e){t.loginRemember=e},expression:"loginRemember"}})],1)],1),i("v-card-actions",{staticClass:"pt-0"},[i("v-spacer"),i("v-btn",{staticClass:"mr-2 mb-1",attrs:{color:"purple darken-3",loading:t.inprocess,disabled:t.inprocess,dark:"",tabindex:"3"},on:{click:function(e){return t.doLogin()}}},[t._v("登录")])],1)],1)],1)],1)],1)},u=[],m=i("9fc9"),f=localStorage,p={name:"LoginDialog",data:function(){return{show:!1,inprocess:!1,loginName:"",password:"",loginNameError:!1,passwordError:!1,loginRemember:!("0"==f.getItem(m["a"].loginRemember))}},created:function(){document.body.addEventListener("keypress",this.doPresskey)},mounted:function(){var t=this;t.$nextTick(function(){var e=t.$store.state,i=e.userName,s=f.getItem(m["a"].password)||"";setTimeout(function(){t.password=s,t.loginName=i,t.show=!0},800)})},methods:{doLogin:function(){var t=this,e=t.$store;t.checkForm()&&(t.isProcess=!0,e.commit(o["a"].SWITCH_LOADING,!0),e.dispatch(o["a"].LOGIN,{loginName:t.loginName.trim(),password:t.password,loginRemember:t.loginRemember}).then(function(i){t.showMessage(i,!0),setTimeout(function(){t.isProcess=!1,e.commit(o["a"].SWITCH_LOADING,!1)},500),setTimeout(function(){t.$router.push({name:"home"})},1e3)},function(i){t.showMessage(i,!1),setTimeout(function(){t.isProcess=!1,e.commit(o["a"].SWITCH_LOADING,!1)},500)}))},checkForm:function(){var t=this,e=t.$refs;return t.loginName.trim()?(t.loginNameError=!1,t.password?(t.passwordError=!1,!0):(e.passwordInput.focus(),t.passwordError=!0,t.showMessage("请输入您的登录密码！",!1),!1)):(e.loginNameInput.focus(),t.loginNameError=!0,t.showMessage("请输入您的登录账号！",!1),!1)},showMessage:function(t,e){var i=this;i.$store.commit(o["a"].SWITCH_GLOABL_MESSAGE,{show:!0,content:t,status:e?"success":"error",delay:1500})},doPresskey:function(t){13===t.keyCode&&this.doLogin()}},beforeDestroy:function(){document.body.removeEventListener("keypress",this.doPresskey)}},g=p,v=i("6691"),w=Object(v["a"])(g,d,u,!1,null,null,null),b=w.exports,y={name:"Login",components:{LoginDialog:b},data:function(){return{stars:[],rains:[],starsNum:80,rainsNum:2,ctx:null,w:0,h:0,reqId:0}},created:function(){var t=this;t.$store.commit(o["a"].SWITCH_LOADING,!1),window.addEventListener("resize",t.doResize)},mounted:function(){var t=this;t.$nextTick(function(){t.init()})},methods:{doResize:function(){var t=this;t.reqId&&cancelAnimationFrame(t.reqId),t.init()},init:function(){var t=this,e=document,i=window,s=t.$refs.container;t.h=s.height=e.documentElement.clientHeight||i.innerHeight,t.w=s.width=e.documentElement.clientWidth||i.innerWidth;var n=s.getContext("2d");n.clearRect(0,0,t.w,t.h),t.ctx=n,n.strokeStyle="white",n.shadowColor="white";for(var o=t.stars,a=0;a<t.starsNum;a++)o[a]=new h(a,n,Math.floor(Math.random()*t.w),Math.floor(Math.random()*t.h));n.shadowBlur=0;for(var r,l=t.rains,d=0;d<t.rainsNum;d++)r=new c(n),r.init(),r.draw(),l[d]=r;l.length&&t.animate()},animate:function(){var t,e=this,i=e.stars,s=e.ctx;s.clearRect(0,0,e.w,e.h);for(var n=0;n<e.starsNum;n++)i[n].move();for(var o=e.rains,a=0;a<e.rainsNum;a++)t=o[a],t.move(),t.y>e.h&&(o[a]=new c(s),o[a].init());e.reqId=requestAnimationFrame(e.animate)}},beforeDestroy:function(){var t=this;t.reqId&&cancelAnimationFrame(t.reqId),window.removeEventListener("resize",t.doResize)}},k=y,x=(i("394d"),Object(v["a"])(k,s,n,!1,null,null,null));e["default"]=x.exports},1031:function(t,e,i){},"15c2":function(t,e,i){"use strict";var s=i("db4b"),n=i("5fe5"),o=i("b146");t.exports=function(t){var e=s(this),i=o(e.length),a=arguments.length,r=n(a>1?arguments[1]:void 0,i),l=a>2?arguments[2]:void 0,h=void 0===l?i:n(l,i);while(h>r)e[r++]=t;return e}},"1c74":function(t,e,i){var s=i("b2f5");s(s.P,"Array",{fill:i("15c2")}),i("644a")("fill")},"394d":function(t,e,i){"use strict";var s=i("1031"),n=i.n(s);n.a}}]);