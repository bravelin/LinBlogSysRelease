(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2b166de"],{"3ad6":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},a=[],r=(i("4634"),i("eb57")),o={data:function(){return{catalog:[],showPreview:!1,previewList:[],previewIndex:0}},mounted:function(){var t=this;t.$store.commit(r["a"].SWITCH_LOADING,!1),t.$nextTick((function(){window.addEventListener("scroll",t.doHandlerScroll);var e=document.querySelectorAll("code");e.length>0&&e.forEach((function(t){hljs.highlightBlock(t)}));var i=document.querySelectorAll("h3.title");if(i.length>0){var n=[],a=Math.round(1e6*Math.random()),r="";t.catalog=i.forEach((function(t,e){r="section"+a+"-"+e,t.setAttribute("id",r),n.push({text:t.innerHTML,id:r,el:t,active:!1})})),t.catalog=n}var o=document.querySelectorAll(".content figure>img");o.length>0&&t.getImageSize(0,o)}))},methods:{getImageSize:function(t,e){var i=this,n=new Image,a=e[t];n.onload=function(){i.previewList.push({src:a.src,w:this.width,h:this.height}),t++,t<e.length?i.getImageSize(t,e):i.$el.addEventListener("click",i.doPreview)},n.src=a.src},doPreview:function(t){var e=this;if(/img/i.test(t.target.tagName)&&!e.showPreview&&!t.target.classList.contains("pswp__img")){e.previewIndex=0;for(var i=0;i<e.previewList.length;i++)if(e.previewList[i].src==t.target.src){e.previewIndex=i;break}e.showPreview=!0}},doHandlerScroll:function(){for(var t,e,i=this,n=i.catalog.length-1;n>=0;n--)if(t=i.catalog[n].el,t.getBoundingClientRect().top<10){e=n;break}i.catalog=i.catalog.map((function(t,i){return t.active=i==e,t}))}},beforeDestroy:function(){var t=this;window.removeEventListener("scroll",t.doHandlerScroll),t.previewList.length>0&&t.$el.removeEventListener("click",t.doPreview)}},l=o,s=i("4e82"),c=Object(s["a"])(l,n,a,!1,null,null,null);e["a"]=c.exports},4634:function(t,e,i){for(var n=i("96dd"),a=i("7d56"),r=i("a6d5"),o=i("3f8b"),l=i("b8ea"),s=i("e3b3"),c=i("1277"),d=c("iterator"),v=c("toStringTag"),h=s.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},g=a(p),m=0;m<g.length;m++){var u,f=g[m],_=p[f],w=o[f],L=w&&w.prototype;if(L&&(L[d]||l(L,d,h),L[v]||l(L,v,f),s[f]=h,_))for(u in n)L[u]||r(L,u,n[u],!0)}},"6b2a":function(t,e,i){t.exports=i.p+"img/header.c4e116b0.jpg"},"7d58":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-container article-page"},[i("h2",{staticClass:"title"},[t._v("CSS揭秘笔记之七：结构与布局")]),t._m(0),i("footer",[t._v("2017年01月10日")]),i("Comments"),i("Catalog",{attrs:{catalog:t.catalog}})],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h3",{staticClass:"title"},[t._v("自适应内部元素")]),n("p",[t._v("如果希望元素自适应其内容的宽度，可以设置\n                "),n("strong",[t._v("width: min-content")])]),n("p",[t._v("如下，如果figure元素不设置宽度的话，将占据整行。（如果浏览器不支持，可以设置一个max-width值，保证平稳退化。）")]),n("div",{staticClass:"exp auto-width"},[n("figure",[n("img",{attrs:{src:i("6b2a")}}),n("figcaption",[t._v("这是一张图片的说明文字。图片底部的文字自动换行了。")])])]),n("pre",[n("code",[t._v("figure{\n  border:1px solid #ccc;\n  max-width: 300px;\n  max-width: min-content;\n  padding: 8px;\n  text-align: center;\n  margin: 0 auto;\n}")])]),n("h3",{staticClass:"title"},[t._v("精确控制表格列宽")]),n("p",[t._v("表格的列宽通常都是根据内容进行调整的，即使显示地指定了width。CSS2.1有一个属性称之为：\n                "),n("strong",[t._v("table-layout")]),t._v("，默认值为auto，此时浏览器会使用自动表格布局算法调整表格的布局。如果设置为另外的一个值：fixed，则可以对表格更多控制。\n            ")]),n("p",[t._v("这种固定表格布局算法将使表格布局更快。应用此属性时需要同时指定表格的宽度。")]),n("h3",{staticClass:"title"},[t._v("根据兄弟元素的数量来设置样式")]),n("p",[t._v("只有一个列表项时，可以使用:only-child，它等效于:first-child:last-child。即第一项同时也是最后一项。")]),n("p",[t._v("例如ul元素下的li列表项，当列表项有4项时，以下选择符可以命中所有项：")]),n("pre",[n("code",[t._v("li:first-child:nth-last-child(4),li:first-child:nth-last-child(4) ~ li { }")])]),n("p",[n("strong",[t._v("根据兄弟元素的数量范围来匹配元素：")])]),n("p",[t._v(":nth-child()选择符参数可以不仅可以是简单的数字，也可以如an+b类似的表达式，例如\n                "),n("strong",[t._v("n+b")]),t._v("，可以选中从第b个开始的所有子元素。")]),n("pre",[n("code",[t._v("//当列表项至少包含4项时，命中所有列表项\nli:first-child:nth-last-child(n+4),li:first-child:nth-last-child(n+4) ~ li {}")])]),n("p",[t._v("同理，-n+b这种形式的表达式可以选中开头的b个元素。")]),n("pre",[n("code",[t._v("//当列表项最多包含4项时，命中所有列表项\nli:first-child:nth-last-child(-n+4),li:first-child:nth-last-child(-n+4) ~ li {}")])]),n("h3",{staticClass:"title"},[t._v("满幅的背景，定宽的内容")]),n("p",[t._v("书中将如下dom结构：")]),n("pre",[n("code",[t._v("<footer><div class='wrapper'></div></footer>")])]),n("p",[t._v("样式写法：")]),n("pre",[n("code",[t._v("footer{\n    background: #333;\n  }\n  .wrapper{\n    max-width: 900px;\n    margin: 1em auto;\n  }")])]),n("p",[t._v("利用calc，精简成如下的形式：")]),n("pre",[n("code",[t._v("footer{\n    padding: 1em calc(50% - 450px);\n    background: #333;\n  }")])]),n("h3",{staticClass:"title"},[t._v("垂直居中")]),n("p",[n("strong",[t._v("基于绝对定位的方案：")]),t._v("此方案要求元素具有固定的宽度和高度。")]),n("pre",[n("code",[t._v("main {\n  position: absolute;\n  width: 18em;\n  height: 6em;\n  top: 50%;\n  left: 50%;\n  margin-top: -3em;\n  margin-left: -9em;\n}")])]),n("p",[t._v("改进型方案（并不要求元素的宽度高度固定）：")]),n("pre",[n("code",[t._v("main {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}")])]),n("p",[n("strong",[t._v("基于视口单位的方案：")]),t._v("此方案只适应于在视口居中的场景。")]),n("p",[t._v("视口单位1vw表示视口宽度的1%，1vh表示视口高度的1%。1vmin取1vh和1vw两者中的最小值，1vmax取1vh和1vw两者中的最大值。")]),n("p",[t._v("下面样式可以使main元素居中：")]),n("pre",[n("code",[t._v("main {\n    width: 18em;\n    padding: 1em 1.5em;\n    margin: 50vh auto 0;\n    transform: translateY(-50%);\n  }")])]),n("p",[n("strong",[t._v("基于Flexbox的方案：")]),t._v("设置父元素display: flex，待居中元素margin: auto即可。")]),n("h3",{staticClass:"title"},[t._v("紧贴底部的页脚")]),n("p",[n("strong",[t._v("使用视口+calc计算方案：")]),t._v("设置中间内容区域的min-height为页面的高度减去头部和底部的高度。页面的整体结构如下：")]),n("pre",[n("code",[t._v("<header></header><main></main><footer></footer></code>")])]),n("p",[t._v("如果header和footer的高度分别为2.5em和7em：")]),n("pre",[n("code",[t._v("main {\n  min-height: calc(100vh - 2.5em - 7em)\n  box-sizing: border-box;\n}")])]),n("p",[n("strong",[t._v("Flexbox的方案：")]),t._v("body元素设置为display: flex，触发伸缩盒布局。内容区块的高度自动伸展并占满所有的可用空间。")]),n("pre",[n("code",[t._v("body{\n  display: flex,\n  flex-flow: column;\n  min-height: 100vh;\n}\nmain{ flex: 1 }")])])])}],r=i("3ad6"),o={extends:r["a"]},l=o,s=i("4e82"),c=Object(s["a"])(l,n,a,!1,null,null,null);e["default"]=c.exports}}]);