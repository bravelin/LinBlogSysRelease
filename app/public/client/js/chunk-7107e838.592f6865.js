(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7107e838"],{1066:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container article-page"},[r("h2",{staticClass:"title"},[e._v("ES6标准入门笔记之六：数组的扩展")]),e._m(0),r("footer",[e._v("2017年03月21日")]),r("Comments"),r("Catalog",{attrs:{catalog:e.catalog}})],1)},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("h3",{staticClass:"title"},[e._v("Array.from()")]),r("p",[e._v("用于将两类的对象转为真正的数组：类似数组的对象（array-like object）和可遍历的对象（iterable，包括Set和Map）。")]),r("pre",[r("code",[e._v("let arrLike = { '0' : 'a', '1' : 'b', '2' : 'c', length : 3 }\n// es5的写法\nvar arr1 = [].slice.call(arrLike) // [\"a\", \"b\", \"c\"]\n\n// es6的写法\nvar arr2 = Array.from(arrLike) // [\"a\", \"b\", \"c\"]")])]),r("p",[e._v("常见的类似数组的对象有DOM操作的NodeList对象、函数内部的arguments对象。Array.from都可以将它们转为真正的数组。")]),r("pre",[r("code",[e._v('var ps = document.querySelector(\'p\')\nArray.from(ps).forEach(function (p) { console.dir(p) }) // 数组对象才有forEach方法\n\nArray.from(\'abcde\') // ["a", "b", "c", "d", "e"] 字符串转数组\n\nlet newSet = new Set([\'a\', \'b\'])\nArray.from(newSet) // ["a", "b"]')])]),r("p",[e._v("因为字符串和Set都有Iterator结构，因此可以被Array.from转为正真的数组。")]),r("p",[r("strong",[e._v("扩展运算符（...）也可以将某些数据结构转为数组：")])]),r("pre",[r("code",[e._v("function foo() { var args = [...arguments] } // arguments对象\n[...document.querySelectorAll('div')] // NodeList对象")])]),r("p",[e._v("扩展运算符背后调用的是遍历器接口（Symbol.iterator）；如果一个对象没有这个接口，将无法转换。")]),r("p",[r("strong",[e._v("类似数组的对象本质特征是具有length属性。")]),e._v("任何有此属性的对象，都可以通过Array.from方法进行转换。")]),r("pre",[r("code",[e._v("Array.from({ length: 3 }) // [undefined, undefined, undefined]")])]),r("p",[e._v("Array.from可以接受第二个参数，作用类似数组的map方法，用来对每个元素进行处理，将处理之后的值返回放入的数组。")]),r("pre",[r("code",[e._v("Array.from([1, 2, 3], (x) => x * x ) // [1, 4, 9]\nArray.from({ length: 2}, () => 'jack' ) // ['jack', 'jack']")])]),r("h3",{staticClass:"title"},[e._v("Array.of()")]),r("p",[e._v("用于将一组值转为数组，弥补数组构造函数Array()的不足。")]),r("pre",[r("code",[e._v("Array.of(1, 2, 3) // [1, 2, 3]\nArray.of() // []\nArray.of(3) // [3]")])]),r("p",[e._v("等价于下面的方法：")]),r("pre",[r("code",[e._v("function ArrayOf() { return [].slice.call(arguments) }")])]),r("h3",{staticClass:"title"},[e._v("数组实例的copyWithin()")]),r("p",[e._v("在当前数组内将指定位置的成员复制到其他的位置（覆盖原有的成员），然后返回当前数组。")]),r("p",[r("strong",[e._v("Array.prototype.copyWithin(target, start = 0, end = this.length)")]),e._v("：target是从该位置开始替换数据；start是从该位置读取数据，默认为0（可以用负值表示倒数）；end表示到该位置前停止读取数据，默认为数组的长度（可以用负值表示倒数）。")]),r("pre",[r("code",[e._v("[1,2,3,4,5].copyWithin(0,2) // [3, 4, 5, 4, 5]\n[1,2,3,4,5].copyWithin(0,-2) // [4, 5, 3, 4, 5]")])]),r("h3",{staticClass:"title"},[e._v("数组实例的find()和findIndex()")]),r("p",[e._v("find()方法用于查找第一个符合条件的数组成员，它的参数是一个回调函数，所有数组成员依次执行此函数，直到找出第一个返回true的成员，然后返回该成员；如果没有符合条件的，返回undefined。")]),r("pre",[r("code",[e._v("[1,2,3,4].find(function(value, index, arr) { return value > 3 }) // 4 找出大于3的成员")])]),r("p",[e._v("回调函数可以接受3个参数，依次为当前值、当前的位置和原数组。")]),r("p",[e._v("findIndex()和find()方法类似，不同的是它返回的是符合条件的成员的位置，如果所有成员都不符合，则返回-1。")]),r("h3",{staticClass:"title"},[e._v("数组实例的fill()")]),r("p",[e._v("使用给定值填充数组，返回填充之后的数组。")]),r("p",[r("strong",[e._v("Array.prototype.fill(value, start = 0, end = this.length)")]),e._v("：value是填充的值，start是起始填充位置，end表示到该位置之前结束填充。")]),r("pre",[r("code",[e._v("[1,2,3].fill(8) // [8, 8, 8]\n new Array(3).fill(6) // [6, 6, 6]")])]),r("h3",{staticClass:"title"},[e._v("数组实例的entries()、keys()、values()")]),r("p",[e._v("遍历数组的方法。都返回一个遍历器对象，可以用for...of循环遍历，唯一的区别是：keys()是对键名的遍历；values()是对键值得遍历；entries()是对键值对的遍历。")]),r("pre",[r("code",[e._v("for(let index of ['a', 'b'].keys()) { console.log(index) }\n// 0\n// 1\n\nfor(let val of ['a', 'b'].values()) { console.log(val) } // chrome不支持\n// 'a'\n// 'b'\n\nfor(let [index, val] of ['a', 'b'].entries()) { console.log(index, val) }\n//0 'a'\n//1 'b'\n            ")])]),r("h3",{staticClass:"title"},[e._v("数组实例的includes()")]),r("p",[e._v("返回一个布尔值，表示数组是否包含给定的值。是属于ES7的内容。")]),r("pre",[r("code",[e._v("[1, 2, 3].includes(3) // true")])]),r("p",[e._v("该方法可以传入第二个参数，表示搜索的起始位置。indexOf方法也可以检查数组是否包含某个值：")]),r("pre",[r("code",[e._v("if (arr.indexOf(el) !== -1) { }")])]),r("p",[e._v("Map结构的has方法是用来查找键名的；Set结构的has方法是用来查找值得。")]),r("h3",{staticClass:"title"},[e._v("数组的空位")]),r("p",[e._v("数组的空位表示在该位置上没有任何值（不是undefined，也不是null）：")]),r("pre",[r("code",[e._v("Array(3) // [, , ,]")])]),r("p",[e._v("数组实例的方法对空位的处理不统一，需要避免出现空位。")]),r("h3",{staticClass:"title"},[e._v("数组的推导")]),r("p",[e._v("数组推导（array comprehension）属于ES7的内容，允许直接通过现有的数组生成新数组。")]),r("pre",[r("code",[e._v("var a1 = [1, 2, 3, 4]\nvar a2 = [for(i of a1) i*2] // [2, 4, 6, 8]")])])])}],i=r("3ad6"),o={extends:i["a"]},l=o,s=r("4e82"),c=Object(s["a"])(l,n,a,!1,null,null,null);t["default"]=c.exports},"3ad6":function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},a=[],i=(r("4634"),r("eb57")),o={data:function(){return{catalog:[],showPreview:!1,previewList:[],previewIndex:0}},mounted:function(){var e=this;e.$store.commit(i["a"].SWITCH_LOADING,!1),e.$nextTick((function(){window.addEventListener("scroll",e.doHandlerScroll);var t=document.querySelectorAll("code");t.length>0&&t.forEach((function(e){hljs.highlightBlock(e)}));var r=document.querySelectorAll("h3.title");if(r.length>0){var n=[],a=Math.round(1e6*Math.random()),i="";e.catalog=r.forEach((function(e,t){i="section"+a+"-"+t,e.setAttribute("id",i),n.push({text:e.innerHTML,id:i,el:e,active:!1})})),e.catalog=n}var o=document.querySelectorAll(".content figure>img");o.length>0&&e.getImageSize(0,o)}))},methods:{getImageSize:function(e,t){var r=this,n=new Image,a=t[e];n.onload=function(){r.previewList.push({src:a.src,w:this.width,h:this.height}),e++,e<t.length?r.getImageSize(e,t):r.$el.addEventListener("click",r.doPreview)},n.src=a.src},doPreview:function(e){var t=this;if(/img/i.test(e.target.tagName)&&!t.showPreview&&!e.target.classList.contains("pswp__img")){t.previewIndex=0;for(var r=0;r<t.previewList.length;r++)if(t.previewList[r].src==e.target.src){t.previewIndex=r;break}t.showPreview=!0}},doHandlerScroll:function(){for(var e,t,r=this,n=r.catalog.length-1;n>=0;n--)if(e=r.catalog[n].el,e.getBoundingClientRect().top<10){t=n;break}r.catalog=r.catalog.map((function(e,r){return e.active=r==t,e}))}},beforeDestroy:function(){var e=this;window.removeEventListener("scroll",e.doHandlerScroll),e.previewList.length>0&&e.$el.removeEventListener("click",e.doPreview)}},l=o,s=r("4e82"),c=Object(s["a"])(l,n,a,!1,null,null,null);t["a"]=c.exports},4634:function(e,t,r){for(var n=r("96dd"),a=r("7d56"),i=r("a6d5"),o=r("3f8b"),l=r("b8ea"),s=r("e3b3"),c=r("1277"),v=c("iterator"),d=c("toStringTag"),f=s.Array,u={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=a(u),h=0;h<p.length;h++){var g,_=p[h],m=u[_],y=o[_],L=y&&y.prototype;if(L&&(L[v]||l(L,v,f),L[d]||l(L,d,_),s[_]=f,m))for(g in n)L[g]||i(L,g,n[g],!0)}}}]);