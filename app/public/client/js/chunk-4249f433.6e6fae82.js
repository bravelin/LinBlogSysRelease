(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4249f433"],{"2fa0":function(t,e,n){var i=n("2498");i(i.P,"Array",{fill:n("4536")}),n("ab19")("fill")},"3ad6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},r=[],a=(n("4634"),n("eb57")),o={data:function(){return{catalog:[],showPreview:!1,previewList:[],previewIndex:0}},mounted:function(){var t=this;t.$store.commit(a["a"].SWITCH_LOADING,!1),t.$nextTick((function(){window.addEventListener("scroll",t.doHandlerScroll);var e=document.querySelectorAll("code");e.length>0&&e.forEach((function(t){hljs.highlightBlock(t)}));var n=document.querySelectorAll("h3.title");if(n.length>0){var i=[],r=Math.round(1e6*Math.random()),a="";t.catalog=n.forEach((function(t,e){a="section"+r+"-"+e,t.setAttribute("id",a),i.push({text:t.innerHTML,id:a,el:t,active:!1})})),t.catalog=i}var o=document.querySelectorAll(".content figure>img");o.length>0&&t.getImageSize(0,o)}))},methods:{getImageSize:function(t,e){var n=this,i=new Image,r=e[t];i.onload=function(){n.previewList.push({src:r.src,w:this.width,h:this.height}),t++,t<e.length?n.getImageSize(t,e):n.$el.addEventListener("click",n.doPreview)},i.src=r.src},doPreview:function(t){var e=this;if(/img/i.test(t.target.tagName)&&!e.showPreview&&!t.target.classList.contains("pswp__img")){e.previewIndex=0;for(var n=0;n<e.previewList.length;n++)if(e.previewList[n].src==t.target.src){e.previewIndex=n;break}e.showPreview=!0}},doHandlerScroll:function(){for(var t,e,n=this,i=n.catalog.length-1;i>=0;i--)if(t=n.catalog[i].el,t.getBoundingClientRect().top<10){e=i;break}n.catalog=n.catalog.map((function(t,n){return t.active=n==e,t}))}},beforeDestroy:function(){var t=this;window.removeEventListener("scroll",t.doHandlerScroll),t.previewList.length>0&&t.$el.removeEventListener("click",t.doPreview)}},s=o,c=n("4e82"),l=Object(c["a"])(s,i,r,!1,null,null,null);e["a"]=l.exports},4536:function(t,e,n){"use strict";var i=n("a9cf"),r=n("c3a9"),a=n("8941");t.exports=function(t){var e=i(this),n=a(e.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,l=void 0===c?n:r(c,n);while(l>s)e[s++]=t;return e}},4634:function(t,e,n){for(var i=n("96dd"),r=n("7d56"),a=n("a6d5"),o=n("3f8b"),s=n("b8ea"),c=n("e3b3"),l=n("1277"),h=l("iterator"),d=l("toStringTag"),u=c.Array,g={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(g),v=0;v<f.length;v++){var w,m=f[v],x=g[m],L=o[m],p=L&&L.prototype;if(p&&(p[h]||s(p,h,u),p[d]||s(p,d,m),c[m]=u,x))for(w in i)p[w]||a(p,w,i[w],!0)}},8288:function(t,e,n){"use strict";var i=n("9334"),r=n.n(i);r.a},9334:function(t,e,n){},bf36:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container article-page"},[n("h2",{staticClass:"title"},[t._v("Canvas绘制的玫瑰曲线")]),n("div",{staticClass:"content"},[n("div",{ref:"grid",staticClass:"exp"},[n("canvas",{ref:"clock",staticClass:"clock",attrs:{width:"400",height:"400"}})]),n("h3",{staticClass:"title"},[t._v("The Code")]),n("p",[t._v("data定义：")]),t._m(0),n("p",[t._v("初始化：")]),t._m(1),n("p",[t._v("随着时间走：")]),t._m(2),n("p",[t._v("绘制：")]),t._m(3)]),n("footer",[t._v("2017年06月18日")]),n("Comments"),n("Catalog",{attrs:{catalog:t.catalog}})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("return {\n    context: null,\n    centerX: 0, // 中心点\n    centerY: 0,\n    deg: 0\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("let that = this\nthat.$nextTick(() => {\n    that.init() // 绘制\n})\n\ninit () {\n    let that = this\n    let refs = that.$refs\n    let el = refs.clock\n    let box = refs.grid\n    let rect = box.getBoundingClientRect()\n    let w = (rect.right - rect.left) * 0.95\n    if (w < 400) {\n        el.style.width = w + 'px'\n        el.style.height = w + 'px'\n    }\n    let canvasWidth = el.getAttribute('width')\n    let canvasHeight = el.getAttribute('height')\n    that.centerX = canvasWidth / 2\n    that.centerY = canvasHeight / 2\n    that.context = el.getContext('2d')\n    that.startTimer()\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("startTimer () {\n    let that = this\n    let requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame\n    requestAnimationFrame(function () {\n        that.drawRose()\n        that.startTimer()\n    })\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("drawRose () {\n    let that = this\n    that.drawGrid()\n    that.drawRoseLine(1, 5, 29, 11)\n}\n\ndrawRoseLine (a, b, m, n) {\n    let that = this\n    let context = that.context\n    let e = 0\n    let c = 150\n    let k = 2 * Math.PI / 360\n    let r = 0\n    let x = 0\n    let y = 0\n    that.deg += k\n    context.save()\n    context.translate(that.centerX, that.centerY)\n    context.rotate(that.deg)\n    context.strokeStyle = 'rgba(255,0,0,0.6)'\n    context.fillStyle = 'rgba(255,0,0,0.1)'\n    context.beginPath()\n    while (e <= 4320) {\n        r = a / b + Math.sin(m * e / n * k)\n        r = r * c\n        x = r * Math.cos(e * k)\n        y = r * Math.sin(e * k)\n        e += 0.1\n        context.lineTo(x, y)\n    }\n    context.stroke()\n    context.fill()\n    context.restore()\n}")])])}],a=(n("2fa0"),n("3ad6")),o={extends:a["a"],data:function(){return{context:null,centerX:0,centerY:0,deg:0}},mounted:function(){var t=this;t.$nextTick((function(){t.init()}))},methods:{init:function(){var t=this,e=t.$refs,n=e.clock,i=e.grid,r=i.getBoundingClientRect(),a=.95*(r.right-r.left);a<400&&(n.style.width=a+"px",n.style.height=a+"px");var o=n.getAttribute("width"),s=n.getAttribute("height");t.centerX=o/2,t.centerY=s/2,t.context=n.getContext("2d"),t.startTimer()},startTimer:function(){var t=this,e=window.requestAnimationFrame||window.webkitRequestAnimationFrame;e((function(){t.drawRose(),t.startTimer()}))},drawRose:function(){var t=this;t.drawGrid(),t.drawRoseLine(1,5,29,11)},drawGrid:function(){var t=this,e=t.context,n=e.canvas,i=n.width,r=n.height,a=10,o=10;e.clearRect(0,0,i,r),e.save(),e.beginPath(),e.strokeStyle="rgba(0,0,0,0.05)",e.lineWidth=.5;for(var s=a+.5;s<i;s+=a)e.beginPath(),e.moveTo(s,0),e.lineTo(s,r),e.stroke();for(var c=o+.5;c<r;c+=o)e.beginPath(),e.moveTo(0,c),e.lineTo(i,c),e.stroke();e.restore()},drawRoseLine:function(t,e,n,i){var r=this,a=r.context,o=0,s=150,c=2*Math.PI/360,l=0,h=0,d=0;r.deg+=c,a.save(),a.translate(r.centerX,r.centerY),a.rotate(r.deg),a.strokeStyle="rgba(255,0,0,0.6)",a.fillStyle="rgba(255,0,0,0.1)",a.beginPath();while(o<=4320)l=t/e+Math.sin(n*o/i*c),l*=s,h=l*Math.cos(o*c),d=l*Math.sin(o*c),o+=.1,a.lineTo(h,d);a.stroke(),a.fill(),a.restore()}}},s=o,c=(n("8288"),n("4e82")),l=Object(c["a"])(s,i,r,!1,null,"7f8d4cff",null);e["default"]=l.exports}}]);