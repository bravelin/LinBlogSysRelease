(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-085b68b7"],{"3ad6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},a=[],r=(n("4634"),n("eb57")),o={data:function(){return{catalog:[],showPreview:!1,previewList:[],previewIndex:0}},mounted:function(){var t=this;t.$store.commit(r["a"].SWITCH_LOADING,!1),t.$nextTick((function(){window.addEventListener("scroll",t.doHandlerScroll);var e=document.querySelectorAll("code");e.length>0&&e.forEach((function(t){hljs.highlightBlock(t)}));var n=document.querySelectorAll("h3.title");if(n.length>0){var i=[],a=Math.round(1e6*Math.random()),r="";t.catalog=n.forEach((function(t,e){r="section"+a+"-"+e,t.setAttribute("id",r),i.push({text:t.innerHTML,id:r,el:t,active:!1})})),t.catalog=i}var o=document.querySelectorAll(".content figure>img");o.length>0&&t.getImageSize(0,o)}))},methods:{getImageSize:function(t,e){var n=this,i=new Image,a=e[t];i.onload=function(){n.previewList.push({src:a.src,w:this.width,h:this.height}),t++,t<e.length?n.getImageSize(t,e):n.$el.addEventListener("click",n.doPreview)},i.src=a.src},doPreview:function(t){var e=this;if(/img/i.test(t.target.tagName)&&!e.showPreview&&!t.target.classList.contains("pswp__img")){e.previewIndex=0;for(var n=0;n<e.previewList.length;n++)if(e.previewList[n].src==t.target.src){e.previewIndex=n;break}e.showPreview=!0}},doHandlerScroll:function(){for(var t,e,n=this,i=n.catalog.length-1;i>=0;i--)if(t=n.catalog[i].el,t.getBoundingClientRect().top<10){e=i;break}n.catalog=n.catalog.map((function(t,n){return t.active=n==e,t}))}},beforeDestroy:function(){var t=this;window.removeEventListener("scroll",t.doHandlerScroll),t.previewList.length>0&&t.$el.removeEventListener("click",t.doPreview)}},s=o,p=n("4e82"),d=Object(p["a"])(s,i,a,!1,null,null,null);e["a"]=d.exports},4634:function(t,e,n){for(var i=n("96dd"),a=n("7d56"),r=n("a6d5"),o=n("3f8b"),s=n("b8ea"),p=n("e3b3"),d=n("1277"),l=d("iterator"),c=d("toStringTag"),g=p.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=a(v),h=0;h<u.length;h++){var x,m=u[h],_=v[m],b=o[m],f=b&&b.prototype;if(f&&(f[l]||s(f,l,g),f[c]||s(f,c,m),p[m]=g,_))for(x in i)f[x]||r(f,x,i[x],!0)}},"84ce":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container article-page"},[n("h2",{staticClass:"title"},[t._v("CSS揭秘笔记之三：形状")]),t._m(0),n("footer",[t._v("2016年11月08日")]),n("Comments"),n("Catalog",{attrs:{catalog:t.catalog}})],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("h3",{staticClass:"title"},[t._v("自适应的椭圆")]),n("p",[t._v("border-radius可以单独指定水平和垂直半径。用斜杠分隔这两个值。")]),n("p",[t._v("指定宽高的一半，可以得到一个精确的椭圆：border-radius: 155px / 60px;")]),n("div",{staticClass:"exp ellipse-1"},[n("div")]),n("p",[t._v("border-radius还可以使用百分比值。这个百分比是基于元素的尺寸进行解析。这意味着相同的百分比会计算出不同的水平和垂直半径。")]),n("p",[t._v("要创建自适应的椭圆，使用：\n                "),n("strong",[t._v("border-radius: 50% 50%")]),t._v(" 就可以。")]),n("p",[t._v("border-radius支持四个角设置成不同的水平和垂直半径。方法是在斜杠之前指定1~4个值，在斜杠之后指定另外的1~4个值。如10px / 5px 20px，展开为10px 10px 10px 10px / 5px 20px 5px 20px。四个角的水平半径为10px，垂直半径则分别为5,20,5,20px。")]),n("p",[t._v("半椭圆效果：\n                "),n("strong",[t._v("border-radius:50% / 100% 100% 0 0")])]),n("div",{staticClass:"exp ellipse-2"},[n("div")]),n("p",[t._v("沿着纵轴劈开的半椭圆效果：\n                "),n("strong",[t._v("border-radius:100% 0 0 100% / 50%")])]),n("div",{staticClass:"exp ellipse-3"},[n("div")]),n("p",[t._v("四分之一椭圆效果：\n                "),n("strong",[t._v("border-radius: 100% 0 0 / 100% 0 0")])]),n("div",{staticClass:"exp ellipse-4"},[n("div")]),n("h3",{staticClass:"title"},[t._v("平行四边形")]),n("p",[t._v("在视觉设计中，平行四边形可以表达出一种动感。")]),n("p",[n("strong",[t._v("方法一：嵌套元素抵消变形")])]),n("div",{staticClass:"exp paralle-1"},[n("div",[n("div",[t._v("平行四边形")])])]),n("pre",[n("code",[t._v("div{\n    background-color: #58a;\n    transform: skewX(-45deg);\n  }\n  div>div{\n    transform: skewX(45deg);\n  }")])]),n("p",[n("strong",[t._v("方法二：伪元素方案")]),t._v("，伪元素设置z-index为-1，使堆叠层次在主元素之后。此种技巧还适用于其他任何变形样式。")]),n("pre",[n("code",[t._v("div{\n    position: relative;\n    z-index:0;\n    background-color: transparent;\n  }\n  div::before{\n    content: '';\n    position: absolute;\n    top:0;\n    right:0;\n    bottom:0;\n    left:0;\n    transform: skewX(-45deg);\n    z-index: -1;\n    background-color: #58a;\n  }")])]),n("div",{staticClass:"exp paralle-2"},[n("div",[t._v("平行四边形")])]),n("h3",{staticClass:"title"},[t._v("菱形图片")]),n("p",[n("strong",[t._v("基于变形的方案：旋转并放大1.42倍。")]),t._v("如果不放大将成八角形。")]),n("div",{staticClass:"exp diamond-1"},[n("div",[n("img",{attrs:{src:"/static/assets/header.jpg"}})])]),n("pre",[n("code",[t._v("div{\n    width:150px;\n    height:150px;\n    transform: rotate(45deg);\n    overflow: hidden;\n  }\n  div>img{\n    width:100%;\n    height:100%;\n    transform: rotate(-45deg) scale(1.42);\n  }")])]),n("p",[n("strong",[t._v("裁切路径方案。")]),t._v("如果处理的是一张非正方形的图片，上面的方法就会有问题。\n                "),n("strong",[t._v("clip-path")]),t._v("允许将元素裁剪成任何形状，并支持动画。只是浏览器的支持程度有限。\n            ")]),n("div",{staticClass:"exp diamond-2"},[n("img",{attrs:{src:"/static/assets/header.jpg"}})]),n("pre",[n("code",[t._v("img{\n    width:150px;\n    height:150px;\n    clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%);\n    transition: clip-path 1s;\n  }\n  img:hover{\n    clip-path: polygon(0 0, 100% 0,100% 100%,0 100%);\n  }")])]),n("h3",{staticClass:"title"},[t._v("切角效果")]),n("p",[t._v("切角效果是一种流行的设计风格，它的常见形态是将元素的一个或者多个角切成45度的缺口。")]),n("p",[n("strong",[t._v("使用渐变实现一个角的切角效果：")])]),n("div",{staticClass:"exp cuttingAngle-1"},[n("div")]),n("pre",[n("code",[t._v("background: #58a;\n  background: linear-gradient(-45deg, transparent 15px, #58a 15px);")])]),n("p",[n("strong",[t._v("使用两层渐变实现两个角的切角效果：（注意需要使用background-size设置每层的渐变宽度为50%，否则会相互覆盖）")])]),n("div",{staticClass:"exp cuttingAngle-2"},[n("div")]),n("pre",[n("code",[t._v("background: linear-gradient(-45deg, transparent 15px, #58a 15px) top right, linear-gradient(45deg, transparent 15px, #58a 15px) top left;\n  background-size: 50% 100%;\n  background-repeat: no-repeat;")])]),n("p",[n("strong",[t._v("使用四层渐变实现四个角的切角效果：（四层渐变的区域各占四分之一）")])]),n("div",{staticClass:"exp cuttingAngle-3"},[n("div")]),n("pre",[n("code",[t._v("background: #58a;\n  background: linear-gradient(-45deg, transparent 15px, #58a 15px) bottom right,\n                      linear-gradient(45deg, transparent 15px, #58a 15px) bottom left,\n                      linear-gradient(-135deg, transparent 15px, #58a 15px) top right,\n                      linear-gradient(135deg, transparent 15px, #58a 15px) top left;\n  background-size: 50% 50%;\n  background-repeat: no-repeat;")])]),n("p",[n("strong",[t._v("弧形切角：使用径向渐变实现内凹圆角效果")])]),n("div",{staticClass:"exp cuttingAngle-4"},[n("div")]),n("pre",[n("code",[t._v("background: #58a;\n  background: radial-gradient(circle at top left, transparent 15px,#58a 15px) top left,\n                      radial-gradient(circle at bottom left, transparent 15px,#58a 15px) bottom left,\n                      radial-gradient(circle at top right, transparent 15px,#58a 15px) top right,\n                      radial-gradient(circle at bottom right, transparent 15px,#58a 15px) bottom right;\n  background-size: 50% 50%;\n  background-repeat: no-repeat;")])]),n("p",[n("strong",[t._v("使用内联SVG与border-image实现切角效果：")]),t._v("border宽度设置为20px，大约是使用渐变实现效果时15px的1.414倍。")]),n("div",{staticClass:"exp cuttingAngle-5"},[n("div")]),n("pre",[n("code",[t._v("border:20px solid #58a;\n  border-image: 1 url(\"data:image/svg+xml,\n                        <svg xmlns='http://www.w3.org/2000/svg' width='3' height='3' fill='%2358a'>\n                         <polygon points='0,1 1,0 2,0 3,1 3,2 2,3 1,3 0,2'/></svg>\");\n  background: #58a;\n  background-clip: padding-box;")])]),n("p",[n("strong",[t._v("使用clip-path实现切角效果（适应于元素背景是图片的情况下）：")])]),n("div",{staticClass:"exp cuttingAngle-6"},[n("img",{attrs:{src:"/static/assets/header.jpg"}})]),n("pre",[n("code",[t._v("clip-path: polygon(20px 0,calc(100% - 20px) 0,100% 20px,100% calc(100% - 20px), calc(100% - 20px) 100%, 20px 100%, 0 calc(100% - 20px), 0 20px, 20px 0);")])]),n("h3",{staticClass:"title"},[t._v("梯形标签页")]),n("p",[t._v("使用3D旋转+伪元素模拟出梯形效果：（对元素使用了3D变形之后，其内部的变形效应几乎是不可逆转的）")]),n("div",{staticClass:"exp tab-1"},[n("div")]),n("pre",[n("code",[t._v('position: relative;\n  padding: .5em 1em .35em;\n  color:white;\n  z-index:0;\n  background: transparent;\n  &:before{\n    content:"";\n    position: absolute;\n    top:0; left:0; right:0; bottom:0;\n    z-index:-1;\n    background: #58a;\n    transform-origin: bottom;\n    transform: scaleY(2.2) perspective(.5em) rotateX(5deg);\n  }')])]),n("p",[t._v("注意在Y轴上需要放大一定的倍数。")]),n("h3",{staticClass:"title"},[t._v("简单的饼图")]),n("p",[t._v("若要得到20%的比率显示，将元素显示成圆形，一半为绿色，一半为棕色；伪元素占据右半部分，并设置背景色为绿色，绕圆心旋转72deg，可以得到如下的效果。")]),n("div",{staticClass:"exp pie pie-1"},[n("div")]),n("pre",[n("code",[t._v('width:220px;\n  height:220px;\n  border-radius: 50%;\n  background: yellowgreen;\n  background-image: linear-gradient(to right, transparent 50%, #655 50%);\n  &:before{\n    content : "";\n    display: block;\n    margin-left:50%;\n    height:100%;\n    background-color: inherit;\n    transform-origin: 0 50%;\n    border-radius: 0 100% 100% 0 / 50%;\n    transform: rotate(72deg);\n  }')])]),n("p",[t._v("上述方案在显示0~50%比率时是正常的，要得到60%比率的饼图，需要将伪元素背景色设置为棕色，并只旋转36deg。")]),n("div",{staticClass:"exp pie pie-2"},[n("div")]),n("pre",[n("code",[t._v("&:before{\n    background-color: #655;\n    transform: rotate(36deg);\n  }")])]),n("p",[t._v("从0%到100%的进度指示器：伪元素在0~180deg范围之间旋转，每当旋转到180deg时，改变背景色，以实现50%~100%的比率显示效果。")]),n("div",{staticClass:"exp pie pie-3"},[n("div")]),n("pre",[n("code",[t._v("@keyframes pie-spin {\n  to{\n    transform: rotate(180deg);\n  }\n}\n@keyframes pie-bg {\n  50%{\n    background-color: #655;\n  }\n}\n&:before{\n  background-color: inherit;\n  animation: pie-spin 3s linear infinite, pie-bg 6s step-end infinite;\n}")])]),n("p",[t._v("不足点是在比率为50%的时候，因背景色的突变，会闪动一下。")]),n("p",[n("strong",[t._v("负的动画时延（animation-delay）会直接跳至动画中的任意时间点，并定格在那里。")]),t._v("如果动画持续时间为6秒，animation-delay设置为-1.2s可以使饼图显示出20%的比率。为计算简单考虑，可以设置动画持续时间为100s。\n            ")]),n("p",[t._v("因为动画是设置在伪元素上的，为方便灵活显示不同的比率，可在主元素内联设置animation-delay，伪元素则\n                "),n("strong",[t._v("inherit")]),t._v("这个值。")]),n("div",{staticClass:"exp pie pie-4"},[n("div",{staticStyle:{"animation-delay":"-20s"}})]),n("pre",[n("code",[t._v("&:before{\n  animation: pie-spin 50s linear infinite, pie-bg 100s step-end infinite;\n  animation-play-state: paused;\n  animation-delay:inherit;\n}")])]),n("p",[t._v("元素简单设置即可：")]),n("pre",[n("code",[t._v("<div style='animation-delay:-20s'></div>")])]),n("p",[t._v("使用SVG也可以实现饼图，但感觉有点麻烦。而且SVG的兼容性也不是很好。")])])}],r=n("3ad6"),o={extends:r["a"]},s=o,p=n("4e82"),d=Object(p["a"])(s,i,a,!1,null,null,null);e["default"]=d.exports}}]);