(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9659744a"],{"125c":function(t,e,n){"use strict";var i=n("a9cf"),r=n("c3a9"),o=n("8941");t.exports=[].copyWithin||function(t,e){var n=i(this),a=o(n.length),s=r(t,a),c=r(e,a),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?a:r(l,a))-c,a-s),d=1;c<s&&s<c+u&&(d=-1,c+=u-1,s+=u-1);while(u-- >0)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},"1dbb":function(t,e,n){},3122:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container article-page",class:{hideAni:t.isAniEnd}},[n("Ani",{on:{end:function(e){return t.doAniEnd()}}}),n("h2",{staticClass:"title"},[t._v("裕丰科技官网的开场动效")]),n("div",{staticClass:"content"},[n("h3",{staticClass:"title"},[t._v("动效1：旋转的白色圆圈")]),n("div",{staticClass:"ani-exp-wrap ani1-wrap"},[n("CircleRing",{ref:"ani1",attrs:{duration:3},on:{complete:function(e){return t.doCompleteAni1()}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.ani1Status,expression:"!ani1Status"}],staticClass:"start-btn",on:{click:function(e){return t.doAni1()}}},[t._v("Play")])],1),n("p",[t._v("使用svg绘制，结合tweenMax，圆圈的当前弧线度数从0渐变到360度，并整体旋转了180度，动画时长1秒（示例延长了）：")]),n("p",[t._v("组件结构，定义svg：")]),t._m(0),t._m(1),n("p",[t._v("绘制的方法，centerX和centerY是中心点的位置，radius为半径：")]),t._m(2),n("p",[t._v("圆圈会从0度位置开始旋转，如果要使它从-90度开始旋转，可以给svg添加如下样式：")]),t._m(3),n("h3",{staticClass:"title"},[t._v("动效2：水波上涨")]),n("div",{staticClass:"ani-exp-wrap ani2-wrap"},[n("WaveCircle",{ref:"ani2",attrs:{duration:5,dir:t.ani2Dir,needHide:!1,color:"#4ebefd"},on:{complete:function(e){return t.doCompleteAni2()}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.ani2Status,expression:"!ani2Status"}],staticClass:"start-btn",on:{click:function(e){return t.doAni2()}}},[t._v("Play")])],1),n("p",[t._v("上面是加长了动画时间的效果，水波是两个点加一条圆弧构成：")]),t._m(4),n("p",[t._v("考虑动画的整个过程，只要知道了A、B两个点的位置，就可以绘制出上面的形状，而A点和B点是对称的。水波向上涨的时候，B点位置从90度位置渐变到-90度：")]),t._m(5),n("p",[t._v("绘制函数，AB之间可以使用贝塞尔曲线实现：")]),t._m(6),n("h3",{staticClass:"title"},[t._v("动效3：爆炸的粒子")]),n("div",{staticClass:"ani-exp-wrap ani3-wrap"},[n("ExplosionLines",{ref:"ani3",attrs:{isWin:!1},on:{complete:function(e){return t.doCompleteAni3()}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.ani3Status,expression:"!ani3Status"}],staticClass:"start-btn",on:{click:function(e){return t.doAni3()}}},[t._v("Play")])],1),n("p",[t._v("使用three.js实现以上三维动画效果，线条的中心点初始位置在球心，随着时间的变化线条长度和位置在改变。在变化的过程中，如果能求得线条的两个端点位置，就可以重绘线条。")]),n("p",[t._v("首先，定义以下常量：")]),t._m(7),n("p",[t._v("组件data中主要需要存储线条的单位向量（控制线条的移动方向）和线条的中心点，由线条的中心点可以推导出线条两个端点的位置，所以，存中心点就够了：")]),t._m(8),n("p",[t._v("场景的初始化：")]),t._m(9),t._m(10),n("p",[t._v("球坐标系(r,θ,φ)与直角坐标系(x,y,z)的转换关系：")]),t._m(11),t._m(12),t._m(13),t._m(14),n("p",[t._v("动画的更新，主要是修改position：")]),t._m(15),n("h3",{staticClass:"title"},[t._v("动效4：会飞的鱼")]),n("div",{staticClass:"ani-exp-wrap ani4-wrap"},[n("FlyFish",{ref:"ani4",attrs:{needNext:!1,idNo:"no1",isWin:!1},on:{complete:function(e){return t.doCompleteAni4()}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.ani4Status,expression:"!ani4Status"}],staticClass:"start-btn",on:{click:function(e){return t.doAni4()}}},[t._v("Play")])],1),n("p",[t._v("设定运动轨迹为对称的两个椭圆：")]),t._m(16),n("p",[t._v("data中定义如下变量存储状态量：")]),t._m(17),n("p",[t._v("初始化这些变量的值：")]),t._m(18),n("p",[t._v("两条鱼是对称的，因此，能绘制出一条鱼就可以了。求对称点的方法：")]),t._m(19),n("p",[t._v("已知弧度数和椭圆的X、Y轴长，求椭圆上点的坐标格式：")]),t._m(20),n("p",[t._v("代码实现如下：（或许有更简洁的方式）")]),t._m(21),n("p",[t._v("启动动画，两个控制变量，一是鱼身的中心点从0度位置转到接近360度的位置；二是鱼的身体在变细长：")]),t._m(22),n("p",[t._v("绘制函数，注意点的对称关系：")]),t._m(23)]),n("footer",[t._v("2019年12月02日")]),n("Comments"),n("Catalog",{attrs:{catalog:t.catalog}}),n("Preview",{attrs:{"is-show":t.showPreview,list:t.previewList,index:t.previewIndex},on:{"update:isShow":function(e){t.showPreview=e},"update:is-show":function(e){t.showPreview=e}}})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v('<svg xmlns="http://www.w3.org/2000/svg" :viewBox="\'0 0 \' + w + \' \' + w" :style="{ width: w + \'px\', height: w + \'px\' }">\n    <path :d="path" fill="none" stroke="#ffffff" :stroke-width="strokeWidth" :stroke-opacity="opacity"/>\n</svg>')])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("startAni () {\n    const that = this\n    const tweenObj = { startDeg: 0, rangeDeg: 0 }\n    new TweenMax(tweenObj, that.duration, {\n        rangeDeg: 2 * PI - 0.0000001,\n        startDeg: PI,\n        onUpdate () {\n            that.draw(tweenObj.startDeg, tweenObj.rangeDeg)\n        },\n        onComplete () {\n            console.log('ani complete...')\n        }\n    })\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("draw (startDeg, rangeDeg) {\n    const that = this\n    const endDeg = startDeg + rangeDeg\n    const x1 = that.centerX + Math.cos(startDeg) * that.radius\n    const y1 = that.centerY + Math.sin(startDeg) * that.radius\n    const x2 = that.centerX + Math.cos(endDeg) * that.radius\n    const y2 = that.centerY + Math.sin(endDeg) * that.radius\n    that.path = `M${x1} ${y1} A ${that.radius} ${that.radius} 0 ${rangeDeg > Math.PI ? 1 : 0} 1 ${x2} ${y2}`\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v(".circle-ring-wrap>svg{\n    transform: rotate(-90deg);\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"common"},[n("img",{staticStyle:{"max-width":"320px"},attrs:{src:"https://bravelin.top/group1/M00/00/60/fwAAAV3k1IeAM6dTAAANYyTqoPI551.png"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("startAni () {\n    const that = this\n    const tweenObj = { degree: 90, opacity: 1 }\n    new TweenMax(tweenObj, that.duration, {\n        degree: -89.9,\n        opacity: that.opacity,\n        delay: that.delay,\n        onUpdate () {\n            that.draw(tweenObj.degree, tweenObj.opacity)\n        },\n        onComplete () {\n            that.$emit('complete')\n        }\n    })\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("draw (degree, opacity) {\n    const that = this\n    const R = 100\n    const center = { x: 100, y: 100 }\n    let str = 'M'\n    const pos1x = center.x + R * Math.cos(degree * Math.PI / 180)\n    const pos1y = center.y + R * Math.sin(degree * Math.PI / 180)\n    str += `${pos1x} ${pos1y} A ${R} ${R} `\n    if (degree < 0) {\n        str += '0 1 1 '\n    } else {\n        str += '0 0 1 '\n    }\n    const pos2x = center.x + R * Math.cos((180 - degree) * Math.PI / 180)\n    const pos2y = center.y + R * Math.sin((180 - degree) * Math.PI / 180)\n    str += `${pos2x} ${pos2y} C `\n    const deltY = 30 * (90 - Math.abs(degree)) / 90\n    const dx = (pos1x - pos2x) / 4\n    if (that.dir) {\n        str += `${pos2x + dx} ${pos2y + deltY} ${pos1x - dx} ${pos1y - deltY} ${pos1x} ${pos1y} Z`\n    } else {\n        str += `${pos2x + dx} ${pos2y - deltY} ${pos1x - dx} ${pos1y + deltY} ${pos1x} ${pos1y} Z`\n    }\n    that.fillOpacity = opacity\n    that.pathData = str // svg的路径\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("const PI = Math.PI\nlet LINE_COUNT = 5000 // 线条数目\nconst MOVEMENT_SPEED = 26 // 移动速度\nconst DURATION = 2500 // 动画时长\nconst LINE_LEN = 12\nlet CAMERA_POSITION = 1300 // 相机在Z轴的初始位置\nlet LINE_WIDTH = 10 // 线条粗度")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("data () {\n    return {\n        scene: null,\n        camera: null,\n        renderer: null,\n        points: [], // 存储线条的中心点\n        dirs: [], // 存储线条的单位向量\n        timer: null,\n        stopAni: false, // 控制动画结束\n        startAniTime: 0, // 动画开始的时间戳\n        line: null, // 线条实例\n        ani: null\n    }\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("const that = this\nlet winWidth = document.documentElement.clientWidth || window.innerWidth\nlet winHeight = document.documentElement.clientHeight || window.innerHeight\nconst scene = new THREE.Scene()\nscene.fog = new THREE.FogExp2(0x000000, 0.0008)\nconst camera = new THREE.PerspectiveCamera(70, winWidth / winHeight, 0.1, 5000)\ncamera.position.set(0, 0, CAMERA_POSITION)\ncamera.lookAt(scene.position)\nthat.camera = camera\nthat.scene = scene\nconst renderer = new THREE.WebGLRenderer({ antialias: true })\nrenderer.setSize(winWidth, winHeight)\nrenderer.autoClearColor = new THREE.Color(0, 0, 0, 0)\nrenderer.setPixelRatio(window.devicePixelRatio)\nthat.$el.appendChild(renderer.domElement)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("three.js中有现成的高效方式去绘制多条线条，"),n("strong",[t._v("THREE.LineSegments")]),t._v("可以将我们传递的一系列点自动分配成两个一组分别连接起来；中心点通过加减单位向量，可以求得两个端点。")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("x=rsinθcosφ\ny=rsinθsinφ\nz=rcosθ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("let radius = 0\nlet theta = 0\nlet phi = 0\nlet dir\nlet color = null\nconst bufferGeometry = new THREE.BufferGeometry()\nconst positions = new Float32Array(LINE_COUNT * 2 * 3)\nconst colors = new Float32Array(LINE_COUNT * 2 * 3)\nconst arrlength = positions.length\nconst points = that.points\nconst dirs = that.dirs\nconst color1 = new THREE.Color(0x3e2b8b)\nconst color2 = new THREE.Color(0x171393)\nfor (let i = 0; i < arrlength; i += 6) {\n    radius = MOVEMENT_SPEED * THREE.Math.randFloat(0, 1) + 5\n    theta = Math.random() * PI * 2\n    phi = Math.random() * PI\n    dir = {\n        x: radius * Math.sin(phi) * Math.cos(theta),\n        y: radius * Math.sin(phi) * Math.sin(theta),\n        z: radius * Math.cos(phi)\n    }\n    positions[i] = -LINE_LEN * dir.x\n    positions[i + 1] = -LINE_LEN * dir.y\n    positions[i + 2] = -LINE_LEN * dir.z\n    positions[i + 3] = LINE_LEN * dir.x\n    positions[i + 4] = LINE_LEN * dir.y\n    positions[i + 5] = LINE_LEN * dir.z\n    // 设定颜色\n    color = (i % 6 == 0 ? color1 : color2)\n    colors[i] = color.r\n    colors[i + 1] = color.g\n    colors[i + 2] = color.b\n    colors[i + 3] = color.r\n    colors[i + 4] = color.g\n    colors[i + 5] = color.b\n    points.push({ x: 0, y: 0, z: 0 })\n    dirs.push(dir)\n}\nbufferGeometry.addAttribute('position', new THREE.BufferAttribute(positions, 3))\nbufferGeometry.addAttribute('color', new THREE.BufferAttribute(colors, 3))\nconst lineMaterial = new THREE.LineBasicMaterial({ linewidth: LINE_WIDTH, linecap: 'butt', vertexColors: THREE.VertexColors })\nconst line = new THREE.LineSegments(bufferGeometry, lineMaterial)\nscene.add(line)\nrenderer.render(scene, camera)\nthat.renderer = renderer\nthat.line = line")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("另外，为使动画流畅，使用了"),n("strong",[t._v("BufferGeometry")]),t._v("。BufferGeometry和Geometry可以实现相同的功能，但BufferGeometry性能更高，渲染更快，只是代码更不易读。")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("startAni () {\n    const that = this\n    that.stopAni = false\n    that.startAniTime = Date.now()\n    that.doAni()\n    setTimeout(() => { that.stopAni = true }, DURATION)\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("doAni () {\n    const that = this\n    if (!that.stopAni) {\n        that.ani = requestAnimationFrame(that.doAni)\n    } else {\n        that.ani = null\n        that.$emit('complete')\n    }\n    const factor = (1 - (Date.now() - that.startAniTime) / (0.8 * DURATION))\n    let len = LINE_LEN * factor\n    len = len < 0 ? 0 : len\n    let point = null\n    let no = 0\n    let dir = null\n    const points = that.points\n    const dirs = that.dirs\n    const geometry = that.line.geometry\n    const positions = geometry.attributes.position.array\n    let deltX = 0\n    let deltY = 0\n    let deltZ = 0\n    for (let i = 0; i < LINE_COUNT * 6; i += 6) {\n        no = parseInt(i / 6)\n        point = points[no]\n        dir = dirs[no]\n        deltX = dir.x * factor\n        deltY = dir.y * factor\n        deltZ = dir.z * factor\n        // update point\n        point.x = point.x + deltX\n        point.y = point.y + deltY\n        point.z = point.z + deltZ\n        // update line position\n        positions[i] = point.x - len * deltX\n        positions[i + 1] = point.y - len * deltY\n        positions[i + 2] = point.z - len * deltZ\n        positions[i + 3] = point.x + len * deltX\n        positions[i + 4] = point.y + len * deltY\n        positions[i + 5] = point.z + len * deltZ\n    }\n    geometry.attributes.position.needsUpdate = true\n    that.renderer.render(that.scene, that.camera)\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"common"},[n("img",{staticStyle:{"max-width":"380px"},attrs:{src:"https://bravelin.top/group1/M00/00/60/fwAAAV3l26-AaqvvAABe6uOxu8Q053.png",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("data () {\n    return {\n        winHeight: 0,\n        winWidth: 0,\n        centerX: 0,\n        centerY: 0,\n        radiusY: 0, // 椭圆的Y轴半径\n        radiusX: 0, // 椭圆的X轴半径\n        path1: '', // 鱼1的path\n        ellipseCx1: 0, // 椭圆1的中心点\n        ellipseCy1: 0,\n        path2: '', // 鱼2的path\n        ellipseCx2: 0,\n        ellipseCy2: 0,\n        curveRx: 0,\n        curveRy: 0\n    }\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("computeSize () {\n    const that = this\n    const doc = document\n    const win = window\n    that.winHeight = doc.documentElement.clientHeight || win.innerHeight\n    that.winWidth = doc.documentElement.clientWidth || win.innerWidth\n    that.centerX = that.winWidth / 2\n    that.centerY = that.winHeight / 2\n    that.radiusY = 300 // 需要随窗口大小而调整\n    that.radiusX = 260\n    let delt = 90\n    that.ellipseCx1 = that.centerX - that.radiusX - delt\n    that.ellipseCy1 = that.centerY\n    that.ellipseCx2 = that.centerX + that.radiusX + delt\n    that.ellipseCy2 = that.centerY\n    that.curveRx = 95\n    that.curveRy = 80\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("// Y轴对称的点\ngetSymmetryPoint (point, centerX) {\n    return { x: centerX > point.x ? (point.x + 2 * (centerX - point.x)) : (point.x - 2 * (point.x - centerX)), y: point.y }\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("figure",{staticClass:"common"},[n("img",{staticStyle:{"max-width":"360px"},attrs:{src:"https://bravelin.top/group1/M00/00/60/fwAAAV3l822AXBjBAABbFNMjQBk800.png",alt:""}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("getEllipsePoint (degree, ellipseCx, ellipseCy, rx, ry) {\n    let x = 0\n    let y = 0\n    if (degree < 0) {\n        degree = 2 * PI + degree\n    }\n    if (Math.abs(degree - PI / 2) < 0.0000000001) {\n        x = ellipseCx\n        y = ellipseCy + ry\n    } else if (Math.abs(degree - 1.5 * PI) < 0.0000000001) {\n        x = ellipseCx\n        y = ellipseCy - ry\n    } else {\n        const tan = Math.tan(degree)\n        const val = Math.sqrt(ry * ry + rx * rx * tan * tan)\n        if ((degree >= 0 && degree < PI / 2) || (degree > 1.5 * PI && degree <= 2 * PI)) {\n            x = ellipseCx + (rx * ry) / val\n            y = ellipseCy + (rx * ry * tan) / val\n        } else {\n            x = ellipseCx - (rx * ry) / val\n            y = ellipseCy - (rx * ry * tan) / val\n        }\n    }\n    return { x, y }\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("startAni () {\n    const that = this\n    const tweenObj1 = { deg: 0 }\n    const tweenObj2 = { delt: PI / 36, radius: 16 }\n    const duration = 1.6\n    const destDelt = PI / 9 // 控制鱼身的长度\n    new TweenMax(tweenObj2, duration * 0.26, { delt: destDelt, radius: 12 })\n    new TweenMax(tweenObj1, duration, {\n        deg: 2 * PI - destDelt,\n        ease: Power0.easeNone,\n        onUpdate () {\n            that.draw(tweenObj1.deg, tweenObj2.delt, tweenObj2.radius)\n        },\n        onComplete () {\n            // next animation\n        }\n    })\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("// startDeg：起始角度   deltDeg：增加角度    radius：鱼头的半径\ndraw (startDeg, deltDeg, radius) {\n    const that = this\n    const ellipseCx1 = that.ellipseCx1\n    const ellipseCy1 = that.ellipseCy1\n    const radiusX = that.radiusX\n    const radiusY = that.radiusY\n    const p11 = that.getEllipsePoint(startDeg, ellipseCx1, ellipseCy1, radiusX, radiusY)\n    const p12 = that.getEllipsePoint(startDeg + deltDeg, ellipseCx1, ellipseCy1, radiusX, radiusY)\n    // console.log(startDeg, startDeg + deltDeg)\n    // 求单位向量\n    let deltX = p12.x - ellipseCx1\n    let deltY = p12.y - ellipseCy1\n    let len = Math.sqrt(deltX * deltX + deltY * deltY)\n    let normalX = deltX / len\n    let normalY = deltY / len\n    const q11 = { x: p12.x - radius * normalX, y: p12.y - radius * normalY }\n    const q12 = { x: p12.x + radius * normalX, y: p12.y + radius * normalY }\n    that.path1 = `M${p11.x} ${p11.y} A${radiusX} ${radiusY} 0 0 1 ${q11.x} ${q11.y} A${radius} ${radius} 0 0 0 ${q12.x} ${q12.y} A${radiusX + radius} ${radiusY} 0 0 0 ${p11.x} ${p11.y} Z`\n    // 对称的第二条鱼\n    const p21 = that.getSymmetryPoint(p11, that.centerX)\n    const q21 = that.getSymmetryPoint(q11, that.centerX)\n    const q22 = that.getSymmetryPoint(q12, that.centerX)\n    that.path2 = `M${p21.x} ${p21.y} A${radiusX} ${radiusY} 0 0 0 ${q21.x} ${q21.y} A${radius} ${radius} 0 0 1 ${q22.x} ${q22.y} A${radiusX + radius} ${radiusY} 0 0 1 ${p21.x} ${p21.y} Z`\n}")])])}],o=n("3ad6"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"circle-ring-wrap"},[n("svg",{style:{width:t.w+"px",height:t.w+"px"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t.w+" "+t.w}},[n("path",{attrs:{d:t.path,fill:"none",stroke:"#ffffff","stroke-width":t.strokeWidth,"stroke-opacity":t.opacity}})])])},s=[],c=(n("8f42"),Math.PI),l={name:"CircleRing",props:{duration:{type:Number,default:1}},data:function(){return{w:310,strokeWidth:2,opacity:1,radius:300,centerX:0,centerY:0,path:"",timer:null}},mounted:function(){var t=this;t.$nextTick((function(){t.computeSize()})),window.addEventListener("resize",t.computeSize)},methods:{startAni:function(){var t=this,e={startDeg:0,rangeDeg:0};new TweenMax(e,t.duration,{rangeDeg:2*c-1e-7,startDeg:c,onUpdate:function(){t.draw(e.startDeg,e.rangeDeg)},onComplete:function(){t.$emit("complete")}})},hideAni:function(){var t=this,e={opacity:1,strokeWidth:2},n=.35;new TweenMax(e,n,{strokeWidth:0,opacity:0,onUpdate:function(){t.opacity=e.opacity,t.strokeWidth=e.strokeWidth}})},computeSize:function(){var t=this;t.radius=150,t.w=2*t.radius+10,t.centerX=t.w/2,t.centerY=t.w/2},draw:function(t,e){var n=this,i=t+e,r=n.centerX+Math.cos(t)*n.radius,o=n.centerY+Math.sin(t)*n.radius,a=n.centerX+Math.cos(i)*n.radius,s=n.centerY+Math.sin(i)*n.radius;n.path="M".concat(r," ").concat(o," A ").concat(n.radius," ").concat(n.radius," 0 ").concat(e>Math.PI?1:0," 1 ").concat(a," ").concat(s)}},beforeDestroy:function(){var t=this;window.removeEventListener("resize",t.computeSize)}},u=l,d=n("4e82"),f=Object(d["a"])(u,a,s,!1,null,null,null),h=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wave-circle-wrap"},[n("svg",{style:{transform:"scale("+t.scale+")"},attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200"}},[n("path",{attrs:{d:t.pathData,fill:t.color,stroke:"none","fill-opacity":t.fillOpacity}})])])},y=[],v={name:"WaveCircle",props:{color:{type:String,default:"#ad76fc"},opacity:{type:Number,default:1},dir:{type:Boolean,default:!0},duration:{type:Number,default:1.5},delay:{type:Number,default:0},scaleAni:{type:Boolean,default:!1},needHide:{type:Boolean,default:!0}},data:function(){return{pathData:"",fillOpacity:1,scale:1}},methods:{startAni:function(){var t=this,e={degree:90,opacity:1};new TweenMax(e,t.duration,{degree:-89.9,opacity:t.opacity,delay:t.delay,onUpdate:function(){t.draw(e.degree,e.opacity)},onComplete:function(){t.$emit("complete"),t.scaleAni?t.nextAni():t.needHide&&(t.$el.style.display="none")}})},draw:function(t,e){var n=this,i=100,r={x:100,y:100},o="M",a=r.x+i*Math.cos(t*Math.PI/180),s=r.y+i*Math.sin(t*Math.PI/180);o+="".concat(a," ").concat(s," A ").concat(i," ").concat(i," "),o+=t<0?"0 1 1 ":"0 0 1 ";var c=r.x+i*Math.cos((180-t)*Math.PI/180),l=r.y+i*Math.sin((180-t)*Math.PI/180);o+="".concat(c," ").concat(l," C ");var u=30*(90-Math.abs(t))/90,d=(a-c)/4;n.dir?o+="".concat(c+d," ").concat(l+u," ").concat(a-d," ").concat(s-u," ").concat(a," ").concat(s," Z"):o+="".concat(c+d," ").concat(l-u," ").concat(a-d," ").concat(s+u," ").concat(a," ").concat(s," Z"),n.fillOpacity=e,n.pathData=o},nextAni:function(){var t=this,e={scale:1};new TweenMax(e,.45,{scale:.45,onUpdate:function(){t.scale=e.scale},onComplete:function(){t.$emit("over"),t.needHide&&(t.$el.style.display="none")}})}}},w=v,g=Object(d["a"])(w,p,y,!1,null,null,null),m=g.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"explosion-container"})},E=[],A=(n("9e94"),Math.PI),_=5e3,C=26,b=2500,M=12,S=1300,$=10,P={name:"ExplosionLines",data:function(){return{scene:null,camera:null,renderer:null,points:[],dirs:[],timer:null,stopAni:!1,startAniTime:0,line:null,ani:null,aniCount:0}},props:{isWin:{type:Boolean,default:!0}},mounted:function(){this.init()},methods:{init:function(){var t=this,e=document.documentElement.clientWidth||window.innerWidth,n=document.documentElement.clientHeight||window.innerHeight;if(!t.isWin){var i=window.getComputedStyle(t.$el,null);if(e=parseInt(i["width"]),n=parseInt(i["height"]),!e||!n)return void setTimeout((function(){t.init()}),120)}var r=new THREE.Scene;r.fog=new THREE.FogExp2(0,8e-4),e<600?(_=2e3,S=900,$=2):e<1e3?(_=3500,S=1100,$=5):(_=5e3,S=1300,$=10);var o=new THREE.PerspectiveCamera(70,e/n,.1,5e3);o.position.set(0,0,S),o.lookAt(r.position),t.camera=o,t.scene=r;var a=new THREE.WebGLRenderer({antialias:!0});a.setSize(e,n),a.autoClearColor=new THREE.Color(0,0,0,0),a.setPixelRatio(window.devicePixelRatio),t.$el.appendChild(a.domElement);for(var s,c=0,l=0,u=0,d=null,f=new THREE.BufferGeometry,h=new Float32Array(2*_*3),p=new Float32Array(2*_*3),y=h.length,v=t.points,w=t.dirs,g=new THREE.Color(4074379),m=new THREE.Color(1512339),x=0;x<y;x+=6)c=C*THREE.Math.randFloat(0,1)+5,l=Math.random()*A*2,u=Math.random()*A,s={x:c*Math.sin(u)*Math.cos(l),y:c*Math.sin(u)*Math.sin(l),z:c*Math.cos(u)},h[x]=-M*s.x,h[x+1]=-M*s.y,h[x+2]=-M*s.z,h[x+3]=M*s.x,h[x+4]=M*s.y,h[x+5]=M*s.z,d=x%6==0?g:m,p[x]=d.r,p[x+1]=d.g,p[x+2]=d.b,p[x+3]=d.r,p[x+4]=d.g,p[x+5]=d.b,v.push({x:0,y:0,z:0}),w.push(s);f.addAttribute("position",new THREE.BufferAttribute(h,3)),f.addAttribute("color",new THREE.BufferAttribute(p,3));var E=new THREE.LineBasicMaterial({linewidth:$,linecap:"butt",vertexColors:THREE.VertexColors}),b=new THREE.LineSegments(f,E);r.add(b),a.render(r,o),t.renderer=a,t.line=b,t.$emit("ready")},doReset:function(){for(var t=this,e=t.points,n=t.line.geometry,i=n.attributes.position.array,r=null,o=0,a=null,s=t.dirs,c=0;c<6*_;c+=6)o=parseInt(c/6),r=e[o],a=s[o],r.x=0,r.y=0,r.z=0,i[c]=-M*a.x,i[c+1]=-M*a.y,i[c+2]=-M*a.z,i[c+3]=M*a.x,i[c+4]=M*a.y,i[c+5]=M*a.z;n.attributes.position.needsUpdate=!0,t.renderer.render(t.scene,t.camera)},startAni:function(){var t=this;t.stopAni=!1,t.startAniTime=Date.now(),t.aniCount=0,t.doAni(),setTimeout((function(){t.stopAni=!0}),b)},doAni:function(){var t=this;t.aniCount=t.aniCount+1,t.aniCount<130?t.ani=requestAnimationFrame(t.doAni):(t.ani=null,t.$emit("complete"));var e=1-(Date.now()-t.startAniTime)/(.8*b),n=M*e;n=n<0?0:n;for(var i=null,r=0,o=null,a=t.points,s=t.dirs,c=t.line.geometry,l=c.attributes.position.array,u=0,d=0,f=0,h=0;h<6*_;h+=6)r=parseInt(h/6),i=a[r],o=s[r],u=o.x*e,d=o.y*e,f=o.z*e,i.x=i.x+u,i.y=i.y+d,i.z=i.z+f,l[h]=i.x-n*u,l[h+1]=i.y-n*d,l[h+2]=i.z-n*f,l[h+3]=i.x+n*u,l[h+4]=i.y+n*d,l[h+5]=i.z+n*f;c.attributes.position.needsUpdate=!0,t.renderer.render(t.scene,t.camera)}},beforeDestroy:function(){var t=this;t.timer&&clearInterval(t.timer),t.ani&&cancelAnimationFrame(t.ani)}},T=P,I=Object(d["a"])(T,x,E,!1,null,null,null),L=I.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fly-fish-wrap"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+t.winWidth+" "+t.winHeight}},[n("defs",[n("linearGradient",{attrs:{id:"logo-fill-1",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[n("stop",{attrs:{offset:"0%","stop-color":"#2314c5"}}),n("stop",{attrs:{offset:"100%","stop-color":"#54d9ff"}})],1),n("linearGradient",{attrs:{id:"logo-fill-2",x1:"0%",y1:"0%",x2:"100%",y2:"0%"}},[n("stop",{attrs:{offset:"0%","stop-color":"#54d9ff"}}),n("stop",{attrs:{offset:"100%","stop-color":"#2314c5"}})],1),n("linearGradient",{attrs:{id:"logo-fill-3",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}},[n("stop",{attrs:{offset:"0%","stop-color":"#54d9ff"}}),n("stop",{attrs:{offset:"50%","stop-color":"#2295e4"}}),n("stop",{attrs:{offset:"100%","stop-color":"#2314c5"}})],1)],1),n("ellipse",{staticStyle:{display:"none"},attrs:{cx:t.ellipseCx1,cy:t.ellipseCy1,rx:t.radiusX,ry:t.radiusY,fill:"none",stroke:"#ff0000","stroke-width":"1"}}),n("path",{ref:"path1",attrs:{id:"fish1"+t.idNo,d:t.path1,fill:"#0386ff",stroke:"#0386ff","stroke-width":"1"}}),n("ellipse",{staticStyle:{display:"none"},attrs:{cx:t.ellipseCx2,cy:t.ellipseCy2,rx:t.radiusX,ry:t.radiusY,fill:"none",stroke:"#ff0000","stroke-width":"1"}}),n("path",{ref:"path2",attrs:{id:"fish2"+t.idNo,d:t.path2,fill:"#0386ff",stroke:"#0386ff","stroke-width":"1"}}),n("ellipse",{staticStyle:{display:"none"},attrs:{cx:t.centerX,cy:t.centerY,rx:t.curveRx,ry:t.curveRy,fill:"none",stroke:"#ff0000","stroke-width":"1"}}),n("path",{ref:"logoPath1",attrs:{id:"logo1"+t.idNo,d:t.logoPath1,fill:"url(#logo-fill-1)",stroke:"none","stroke-width":"0"}}),n("path",{ref:"logoPath2",attrs:{id:"logo2"+t.idNo,d:t.logoPath2,fill:"url(#logo-fill-2)",stroke:"none","stroke-width":"0"}}),n("circle",{ref:"logoCircle",attrs:{cx:t.centerX,cy:t.centerY+100,stroke:"none",r:t.circleRadius,fill:"url(#logo-fill-3)"}})])])},N=[],D=Math.PI,X={name:"FlyFish",props:{idNo:{type:String,default:""},needNext:{type:Boolean,default:!0},isWin:{type:Boolean,default:!0}},data:function(){return{winHeight:0,winWidth:0,centerX:0,centerY:0,radiusY:0,radiusX:0,path1:"",ellipseCx1:0,ellipseCy1:0,path2:"",ellipseCx2:0,ellipseCy2:0,curveRx:0,curveRy:0,logoPath1:"",logoPath2:"",timer:null,circleRadius:0}},mounted:function(){var t=this;t.$nextTick((function(){t.computeSize()})),window.addEventListener("resize",t.computeSize)},methods:{startAni:function(){var t=this,e={deg:0},n={delt:D/36,radius:16},i=1.6,r=D/9;new TweenMax(n,.26*i,{delt:r,radius:12}),new TweenMax(e,i,{deg:2*D-r,ease:Power0.easeNone,onUpdate:function(){t.draw(e.deg,n.delt,n.radius)},onComplete:function(){t.startNextAni()}})},draw:function(t,e,n){var i=this,r=i.ellipseCx1,o=i.ellipseCy1,a=i.radiusX,s=i.radiusY,c=i.getEllipsePoint(t,r,o,a,s),l=i.getEllipsePoint(t+e,r,o,a,s),u=l.x-r,d=l.y-o,f=Math.sqrt(u*u+d*d),h=u/f,p=d/f,y={x:l.x-n*h,y:l.y-n*p},v={x:l.x+n*h,y:l.y+n*p};i.path1="M".concat(c.x," ").concat(c.y," A").concat(a," ").concat(s," 0 0 1 ").concat(y.x," ").concat(y.y," A").concat(n," ").concat(n," 0 0 0 ").concat(v.x," ").concat(v.y," A").concat(a+n," ").concat(s," 0 0 0 ").concat(c.x," ").concat(c.y," Z");var w=i.getSymmetryPoint(c,i.centerX),g=i.getSymmetryPoint(y,i.centerX),m=i.getSymmetryPoint(v,i.centerX);i.path2="M".concat(w.x," ").concat(w.y," A").concat(a," ").concat(s," 0 0 0 ").concat(g.x," ").concat(g.y," A").concat(n," ").concat(n," 0 0 1 ").concat(m.x," ").concat(m.y," A").concat(a+n," ").concat(s," 0 0 1 ").concat(w.x," ").concat(w.y," Z")},startNextAni:function(){var t=this,e={deg:0,r:0},n=.4,i=D/2.2,r=null,o=t.$refs;new TweenMax(e,n,{deg:D-1.68,r:10,onUpdate:function(){r=t.drawNext(e.deg,i,12),t.circleRadius=e.r},onComplete:function(){if(t.needNext){t.drawLogo(r),o.path1.setAttribute("fill","url(#logo-fill-1)"),o.path1.setAttribute("stroke-width",0),o.path2.setAttribute("fill","url(#logo-fill-2)"),o.path2.setAttribute("stroke-width",0),TweenMax.to("#fish1"+t.idNo,.3,{morphSVG:"#logo1"}),TweenMax.to("#fish2"+t.idNo,.3,{morphSVG:"#logo2"});var e={r:10};new TweenMax(e,.3,{r:20,onUpdate:function(){t.circleRadius=e.r},onComplete:function(){t.$emit("end")}})}else t.$emit("complete")}})},drawNext:function(t,e,n){var i=this,r=i.centerX,o=i.centerY,a=i.curveRx,s=i.curveRy,c=i.getEllipsePoint(t,r,o,a,s),l=i.getEllipsePoint(t+e,r,o,a,s),u=l.x-r,d=l.y-o,f=Math.sqrt(u*u+d*d),h=u/f,p=d/f,y={x:l.x-n*h,y:l.y-n*p},v={x:l.x+n*h,y:l.y+n*p};i.path2="M".concat(c.x," ").concat(c.y," A").concat(a," ").concat(s," 0 0 1 ").concat(y.x," ").concat(y.y," A").concat(n," ").concat(n," 0 0 0 ").concat(v.x," ").concat(v.y," A").concat(a+.4*n," ").concat(s," 0 0 0 ").concat(c.x," ").concat(c.y," Z");var w=i.getSymmetryPoint(c,i.centerX),g=i.getSymmetryPoint(y,i.centerX),m=i.getSymmetryPoint(v,i.centerX);return i.path1="M".concat(w.x," ").concat(w.y," A").concat(a," ").concat(s," 0 0 0 ").concat(m.x," ").concat(m.y," A").concat(n," ").concat(n," 0 0 0 ").concat(g.x," ").concat(g.y," A").concat(a+.4*n," ").concat(s," 0 0 1 ").concat(w.x," ").concat(w.y," Z"),{p11:w,q11:g,q12:m,p21:c,q21:y,q22:v}},drawLogo:function(t){var e=this,n=t.q11,i=t.q12,r=t.q21,o=t.q22,a={x:12,y:-31},s=4;i.x-=s,o.x+=s,n.x+=a.x,n.y+=a.y,r.x-=a.x,r.y+=a.y;var c=90,l={x:3,y:3},u={x:-4,y:3};e.logoPath1="M".concat(i.x," ").concat(i.y," L").concat(n.x+l.x," ").concat(n.y+l.y," Q").concat(n.x," ").concat(n.y," ").concat(n.x+u.x," ").concat(n.y+u.y," Q").concat(e.centerX," ").concat(n.y+c," ").concat(r.x," ").concat(r.y," L").concat(o.x," ").concat(o.y," Q").concat(e.centerX," ").concat(n.y+c," ").concat(i.x," ").concat(i.y," Z"),e.logoPath2="M".concat(i.x," ").concat(i.y," Q").concat(e.centerX," ").concat(i.y+c-10," ").concat(o.x," ").concat(o.y," L").concat(r.x-l.x," ").concat(r.y+l.y," Q").concat(r.x," ").concat(r.y," ").concat(r.x-u.x," ").concat(r.y+u.y," Q").concat(e.centerX," ").concat(n.y+c," ").concat(i.x," ").concat(i.y," Z")},getSymmetryPoint:function(t,e){return{x:e>t.x?t.x+2*(e-t.x):t.x-2*(t.x-e),y:t.y}},getEllipsePoint:function(t,e,n,i,r){var o=0,a=0;if(t<0&&(t=2*D+t),Math.abs(t-D/2)<1e-10)o=e,a=n+r;else if(Math.abs(t-1.5*D)<1e-10)o=e,a=n-r;else{var s=Math.tan(t),c=Math.sqrt(r*r+i*i*s*s);t>=0&&t<D/2||t>1.5*D&&t<=2*D?(o=e+i*r/c,a=n+i*r*s/c):(o=e-i*r/c,a=n-i*r*s/c)}return{x:o,y:a}},computeSize:function(){var t=this,e=document,n=window;if(t.winHeight=e.documentElement.clientHeight||n.innerHeight,t.winWidth=e.documentElement.clientWidth||n.innerWidth,!t.isWin){var i=window.getComputedStyle(t.$el,null);t.winWidth=parseInt(i["width"]),t.winHeight=parseInt(i["height"])}t.centerX=t.winWidth/2,t.centerY=t.winHeight/2,t.radiusY=300,t.radiusX=260;var r=90;t.winWidth<680&&(r=60,t.radiusX=(t.winWidth-r)/5,t.radiusY=2.4*t.radiusX),t.ellipseCx1=t.centerX-t.radiusX-r,t.ellipseCy1=t.centerY,t.ellipseCx2=t.centerX+t.radiusX+r,t.ellipseCy2=t.centerY,t.curveRx=95,t.curveRy=80}},beforeDestroy:function(){var t=this;window.removeEventListener("resize",t.computeSize),t.timer&&clearInterval(t.timer)}},H=X,W=Object(d["a"])(H,R,N,!1,null,null,null),Y=W.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"opening-ani-wrap active"},[n("ExplosionLines",{ref:"explosion",on:{ready:function(e){return t.doReady()}}}),n("CircleRing",{ref:"circle"}),n("WaveCircle",{ref:"wave1",attrs:{color:"#4ebefd",scaleAni:!0},on:{over:function(e){return t.doOverWaveCircleScaleAni()}}}),n("WaveCircle",{ref:"wave2",attrs:{delay:.3,dir:!1,opacity:0},on:{complete:function(e){return t.doCompleteWaveCircleAni()}}}),n("RopeRing",{ref:"ring"}),n("FlyFish",{ref:"fish",on:{end:function(e){return t.doAniEnd()}}})],1)},O=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"rope-ring-wrap"},[n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200"}},[n("circle",{attrs:{cx:"100",cy:"100",fill:"none",r:t.circleRadius,stroke:"#0386ff","stroke-width":t.len-2}}),n("path",{attrs:{d:t.pathData,fill:"none",stroke:"#0386ff","stroke-width":t.len}})])])},z=[],F={name:"RopeRing",data:function(){return{pathData:"",len:40,circleRadius:20}},methods:{startAni:function(){var t=this;t.$el.style.opacity=1;var e={len:40,radius:20};new TweenMax(e,.4,{len:0,radius:100,onUpdate:function(){t.circleRadius=e.radius,t.draw(e.radius),t.len=e.len},onComplete:function(){t.$el.style.display="none",t.$emit("complete")}})},draw:function(t){for(var e=this,n=15+10*(1-t/100),i=360/n,r={x:100,y:100},o="M",a=0,s=0,c=2*t/100,l=0;l<n;l++)a=r.x+t*Math.cos(l*i*Math.PI/180),s=r.y+t*Math.sin(l*i*Math.PI/180),a+=c*Math.random()*(Math.random()>.5?1:-1),s+=c*Math.random()*(Math.random()>.5?1:-1),o+=0==l?"".concat(a," ").concat(s," "):"A ".concat(t," ").concat(t," 0 0 1 ").concat(a," ").concat(s," ");e.pathData=o+"Z"}}},q=F,U=Object(d["a"])(q,B,z,!1,null,null,null),j=U.exports,G=null,V={name:"OpeningAni",components:{CircleRing:h,ExplosionLines:L,WaveCircle:m,RopeRing:j,FlyFish:Y},data:function(){return{ani1:null,ani2:null}},methods:{doReady:function(){var t=this;t.doStartAni()},doStartAni:function(){var t=this.$refs;t.circle.startAni(),t.wave1.startAni(),t.wave2.startAni()},doCompleteWaveCircleAni:function(){this.$refs.circle.hideAni()},doOverWaveCircleScaleAni:function(){var t=this,e=t.$refs;document.querySelector("div.explosion-container").style.opacity=1,e.ring.startAni(),e.fish.startAni(),e.explosion.startAni()},doAniEnd:function(){this.$emit("end")}},beforeDestroy:function(){G&&clearInterval(G)}},Z=V,Q=(n("598f"),Object(d["a"])(Z,k,O,!1,null,null,null)),J=Q.exports,K={extends:o["a"],components:{Ani:J,CircleRing:h,WaveCircle:m,ExplosionLines:L,FlyFish:Y},data:function(){return{ani1Status:!1,ani2Status:!1,ani3Status:!1,ani4Status:!1,ani2Dir:!0,isAniEnd:!1}},methods:{doAni1:function(){this.$refs.ani1.startAni(),this.ani1Status=!0},doCompleteAni1:function(){this.ani1Status=!1},doAni2:function(){this.ani2Dir=!this.ani2Dir,this.$refs.ani2.startAni(),this.ani2Status=!0},doCompleteAni2:function(){this.ani2Status=!1},doAni3:function(){this.$refs.ani3.startAni(),this.ani3Status=!0},doCompleteAni3:function(){var t=this;t.ani3Status=!1,setTimeout((function(){t.$refs.ani3.doReset()}),100)},doAni4:function(){this.$refs.ani4.startAni(),this.ani4Status=!0},doCompleteAni4:function(){var t=this;t.ani4Status=!1},doAniEnd:function(){var t=this;t.isAniEnd=!0,setTimeout((function(){document.querySelector(".opening-ani-wrap").style.display="none"}),1e3)}}},tt=K,et=(n("e40e"),Object(d["a"])(tt,i,r,!1,null,"1cf9db0d",null));e["default"]=et.exports},3837:function(t,e,n){var i=n("da0b"),r=n("c58e"),o=n("1277")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},"3ad6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},r=[],o=(n("4634"),n("eb57")),a={data:function(){return{catalog:[],showPreview:!1,previewList:[],previewIndex:0}},mounted:function(){var t=this;t.$store.commit(o["a"].SWITCH_LOADING,!1),t.$nextTick((function(){window.addEventListener("scroll",t.doHandlerScroll);var e=document.querySelectorAll("code");e.length>0&&e.forEach((function(t){hljs.highlightBlock(t)}));var n=document.querySelectorAll("h3.title");if(n.length>0){var i=[],r=Math.round(1e6*Math.random()),o="";t.catalog=n.forEach((function(t,e){o="section"+r+"-"+e,t.setAttribute("id",o),i.push({text:t.innerHTML,id:o,el:t,active:!1})})),t.catalog=i}var a=document.querySelectorAll(".content figure>img");a.length>0&&t.getImageSize(0,a)}))},methods:{getImageSize:function(t,e){var n=this,i=new Image,r=e[t];i.onload=function(){n.previewList.push({src:r.src,w:this.width,h:this.height}),t++,t<e.length?n.getImageSize(t,e):n.$el.addEventListener("click",n.doPreview)},i.src=r.src},doPreview:function(t){var e=this;if(/img/i.test(t.target.tagName)&&!e.showPreview&&!t.target.classList.contains("pswp__img")){e.previewIndex=0;for(var n=0;n<e.previewList.length;n++)if(e.previewList[n].src==t.target.src){e.previewIndex=n;break}e.showPreview=!0}},doHandlerScroll:function(){for(var t,e,n=this,i=n.catalog.length-1;i>=0;i--)if(t=n.catalog[i].el,t.getBoundingClientRect().top<10){e=i;break}n.catalog=n.catalog.map((function(t,n){return t.active=n==e,t}))}},beforeDestroy:function(){var t=this;window.removeEventListener("scroll",t.doHandlerScroll),t.previewList.length>0&&t.$el.removeEventListener("click",t.doPreview)}},s=a,c=n("4e82"),l=Object(c["a"])(s,i,r,!1,null,null,null);e["a"]=l.exports},4536:function(t,e,n){"use strict";var i=n("a9cf"),r=n("c3a9"),o=n("8941");t.exports=function(t){var e=i(this),n=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,n),c=a>2?arguments[2]:void 0,l=void 0===c?n:r(c,n);while(l>s)e[s++]=t;return e}},4634:function(t,e,n){for(var i=n("96dd"),r=n("7d56"),o=n("a6d5"),a=n("3f8b"),s=n("b8ea"),c=n("e3b3"),l=n("1277"),u=l("iterator"),d=l("toStringTag"),f=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(h),y=0;y<p.length;y++){var v,w=p[y],g=h[w],m=a[w],x=m&&m.prototype;if(x&&(x[u]||s(x,u,f),x[d]||s(x,d,w),c[w]=f,g))for(v in i)x[v]||o(x,v,i[v],!0)}},"598f":function(t,e,n){"use strict";var i=n("1dbb"),r=n.n(i);r.a},"7bbe":function(t,e,n){"use strict";var i=n("3f8b"),r=n("f9a5"),o=n("6cc2"),a=n("da28"),s=n("b8ea"),c=n("a17c"),l=n("0cc1"),u=n("5e01"),d=n("a6ad"),f=n("8941"),h=n("e4d7"),p=n("cb2e").f,y=n("d3d8").f,v=n("4536"),w=n("3d87"),g="ArrayBuffer",m="DataView",x="prototype",E="Wrong length!",A="Wrong index!",_=i[g],C=i[m],b=i.Math,M=i.RangeError,S=i.Infinity,$=_,P=b.abs,T=b.pow,I=b.floor,L=b.log,R=b.LN2,N="buffer",D="byteLength",X="byteOffset",H=r?"_b":N,W=r?"_l":D,Y=r?"_o":X;function k(t,e,n){var i,r,o,a=new Array(n),s=8*n-e-1,c=(1<<s)-1,l=c>>1,u=23===e?T(2,-24)-T(2,-77):0,d=0,f=t<0||0===t&&1/t<0?1:0;for(t=P(t),t!=t||t===S?(r=t!=t?1:0,i=c):(i=I(L(t)/R),t*(o=T(2,-i))<1&&(i--,o*=2),t+=i+l>=1?u/o:u*T(2,1-l),t*o>=2&&(i++,o/=2),i+l>=c?(r=0,i=c):i+l>=1?(r=(t*o-1)*T(2,e),i+=l):(r=t*T(2,l-1)*T(2,e),i=0));e>=8;a[d++]=255&r,r/=256,e-=8);for(i=i<<e|r,s+=e;s>0;a[d++]=255&i,i/=256,s-=8);return a[--d]|=128*f,a}function O(t,e,n){var i,r=8*n-e-1,o=(1<<r)-1,a=o>>1,s=r-7,c=n-1,l=t[c--],u=127&l;for(l>>=7;s>0;u=256*u+t[c],c--,s-=8);for(i=u&(1<<-s)-1,u>>=-s,s+=e;s>0;i=256*i+t[c],c--,s-=8);if(0===u)u=1-a;else{if(u===o)return i?NaN:l?-S:S;i+=T(2,e),u-=a}return(l?-1:1)*i*T(2,u-e)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function z(t){return[255&t]}function F(t){return[255&t,t>>8&255]}function q(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function U(t){return k(t,52,8)}function j(t){return k(t,23,4)}function G(t,e,n){y(t[x],e,{get:function(){return this[n]}})}function V(t,e,n,i){var r=+n,o=h(r);if(o+e>t[W])throw M(A);var a=t[H]._b,s=o+t[Y],c=a.slice(s,s+e);return i?c:c.reverse()}function Z(t,e,n,i,r,o){var a=+n,s=h(a);if(s+e>t[W])throw M(A);for(var c=t[H]._b,l=s+t[Y],u=i(+r),d=0;d<e;d++)c[l+d]=u[o?d:e-d-1]}if(a.ABV){if(!l((function(){_(1)}))||!l((function(){new _(-1)}))||l((function(){return new _,new _(1.5),new _(NaN),_.name!=g}))){_=function(t){return u(this,_),new $(h(t))};for(var Q,J=_[x]=$[x],K=p($),tt=0;K.length>tt;)(Q=K[tt++])in _||s(_,Q,$[Q]);o||(J.constructor=_)}var et=new C(new _(2)),nt=C[x].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||c(C[x],{setInt8:function(t,e){nt.call(this,t,e<<24>>24)},setUint8:function(t,e){nt.call(this,t,e<<24>>24)}},!0)}else _=function(t){u(this,_,g);var e=h(t);this._b=v.call(new Array(e),0),this[W]=e},C=function(t,e,n){u(this,C,m),u(t,_,m);var i=t[W],r=d(e);if(r<0||r>i)throw M("Wrong offset!");if(n=void 0===n?i-r:f(n),r+n>i)throw M(E);this[H]=t,this[Y]=r,this[W]=n},r&&(G(_,D,"_l"),G(C,N,"_b"),G(C,D,"_l"),G(C,X,"_o")),c(C[x],{getInt8:function(t){return V(this,1,t)[0]<<24>>24},getUint8:function(t){return V(this,1,t)[0]},getInt16:function(t){var e=V(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=V(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return B(V(this,4,t,arguments[1]))},getUint32:function(t){return B(V(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return O(V(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return O(V(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){Z(this,1,t,z,e)},setUint8:function(t,e){Z(this,1,t,z,e)},setInt16:function(t,e){Z(this,2,t,F,e,arguments[2])},setUint16:function(t,e){Z(this,2,t,F,e,arguments[2])},setInt32:function(t,e){Z(this,4,t,q,e,arguments[2])},setUint32:function(t,e){Z(this,4,t,q,e,arguments[2])},setFloat32:function(t,e){Z(this,4,t,j,e,arguments[2])},setFloat64:function(t,e){Z(this,8,t,U,e,arguments[2])}});w(_,g),w(C,m),s(C[x],a.VIEW,!0),e[g]=_,e[m]=C},"9e94":function(t,e,n){n("a11f")("Float32",4,(function(t){return function(e,n,i){return t(this,e,n,i)}}))},a11f:function(t,e,n){"use strict";if(n("f9a5")){var i=n("6cc2"),r=n("3f8b"),o=n("0cc1"),a=n("2498"),s=n("da28"),c=n("7bbe"),l=n("e85e"),u=n("5e01"),d=n("0614"),f=n("b8ea"),h=n("a17c"),p=n("a6ad"),y=n("8941"),v=n("e4d7"),w=n("c3a9"),g=n("2ab1"),m=n("549d"),x=n("02f2"),E=n("da0b"),A=n("a9cf"),_=n("67c1"),C=n("65c3"),b=n("d15b"),M=n("cb2e").f,S=n("5fff"),$=n("4d2c"),P=n("1277"),T=n("ce67"),I=n("1f9e"),L=n("95e3"),R=n("96dd"),N=n("e3b3"),D=n("b309"),X=n("e465"),H=n("4536"),W=n("125c"),Y=n("d3d8"),k=n("e493"),O=Y.f,B=k.f,z=r.RangeError,F=r.TypeError,q=r.Uint8Array,U="ArrayBuffer",j="Shared"+U,G="BYTES_PER_ELEMENT",V="prototype",Z=Array[V],Q=c.ArrayBuffer,J=c.DataView,K=T(0),tt=T(2),et=T(3),nt=T(4),it=T(5),rt=T(6),ot=I(!0),at=I(!1),st=R.values,ct=R.keys,lt=R.entries,ut=Z.lastIndexOf,dt=Z.reduce,ft=Z.reduceRight,ht=Z.join,pt=Z.sort,yt=Z.slice,vt=Z.toString,wt=Z.toLocaleString,gt=P("iterator"),mt=P("toStringTag"),xt=$("typed_constructor"),Et=$("def_constructor"),At=s.CONSTR,_t=s.TYPED,Ct=s.VIEW,bt="Wrong length!",Mt=T(1,(function(t,e){return It(L(t,t[Et]),e)})),St=o((function(){return 1===new q(new Uint16Array([1]).buffer)[0]})),$t=!!q&&!!q[V].set&&o((function(){new q(1).set({})})),Pt=function(t,e){var n=p(t);if(n<0||n%e)throw z("Wrong offset!");return n},Tt=function(t){if(E(t)&&_t in t)return t;throw F(t+" is not a typed array!")},It=function(t,e){if(!(E(t)&&xt in t))throw F("It is not a typed array constructor!");return new t(e)},Lt=function(t,e){return Rt(L(t,t[Et]),e)},Rt=function(t,e){var n=0,i=e.length,r=It(t,i);while(i>n)r[n]=e[n++];return r},Nt=function(t,e,n){O(t,e,{get:function(){return this._d[n]}})},Dt=function(t){var e,n,i,r,o,a,s=A(t),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,f=S(s);if(void 0!=f&&!_(f)){for(a=f.call(s),i=[],e=0;!(o=a.next()).done;e++)i.push(o.value);s=i}for(d&&c>2&&(u=l(u,arguments[2],2)),e=0,n=y(s.length),r=It(this,n);n>e;e++)r[e]=d?u(s[e],e):s[e];return r},Xt=function(){var t=0,e=arguments.length,n=It(this,e);while(e>t)n[t]=arguments[t++];return n},Ht=!!q&&o((function(){wt.call(new q(1))})),Wt=function(){return wt.apply(Ht?yt.call(Tt(this)):Tt(this),arguments)},Yt={copyWithin:function(t,e){return W.call(Tt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return nt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return H.apply(Tt(this),arguments)},filter:function(t){return Lt(this,tt(Tt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return it(Tt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){K(Tt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(Tt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(Tt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return ht.apply(Tt(this),arguments)},lastIndexOf:function(t){return ut.apply(Tt(this),arguments)},map:function(t){return Mt(Tt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return dt.apply(Tt(this),arguments)},reduceRight:function(t){return ft.apply(Tt(this),arguments)},reverse:function(){var t,e=this,n=Tt(e).length,i=Math.floor(n/2),r=0;while(r<i)t=e[r],e[r++]=e[--n],e[n]=t;return e},some:function(t){return et(Tt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(Tt(this),t)},subarray:function(t,e){var n=Tt(this),i=n.length,r=w(t,i);return new(L(n,n[Et]))(n.buffer,n.byteOffset+r*n.BYTES_PER_ELEMENT,y((void 0===e?i:w(e,i))-r))}},kt=function(t,e){return Lt(this,yt.call(Tt(this),t,e))},Ot=function(t){Tt(this);var e=Pt(arguments[1],1),n=this.length,i=A(t),r=y(i.length),o=0;if(r+e>n)throw z(bt);while(o<r)this[e+o]=i[o++]},Bt={entries:function(){return lt.call(Tt(this))},keys:function(){return ct.call(Tt(this))},values:function(){return st.call(Tt(this))}},zt=function(t,e){return E(t)&&t[_t]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Ft=function(t,e){return zt(t,e=g(e,!0))?d(2,t[e]):B(t,e)},qt=function(t,e,n){return!(zt(t,e=g(e,!0))&&E(n)&&m(n,"value"))||m(n,"get")||m(n,"set")||n.configurable||m(n,"writable")&&!n.writable||m(n,"enumerable")&&!n.enumerable?O(t,e,n):(t[e]=n.value,t)};At||(k.f=Ft,Y.f=qt),a(a.S+a.F*!At,"Object",{getOwnPropertyDescriptor:Ft,defineProperty:qt}),o((function(){vt.call({})}))&&(vt=wt=function(){return ht.call(this)});var Ut=h({},Yt);h(Ut,Bt),f(Ut,gt,Bt.values),h(Ut,{slice:kt,set:Ot,constructor:function(){},toString:vt,toLocaleString:Wt}),Nt(Ut,"buffer","b"),Nt(Ut,"byteOffset","o"),Nt(Ut,"byteLength","l"),Nt(Ut,"length","e"),O(Ut,mt,{get:function(){return this[_t]}}),t.exports=function(t,e,n,c){c=!!c;var l=t+(c?"Clamped":"")+"Array",d="get"+t,h="set"+t,p=r[l],w=p||{},g=p&&b(p),m=!p||!s.ABV,A={},_=p&&p[V],S=function(t,n){var i=t._d;return i.v[d](n*e+i.o,St)},$=function(t,n,i){var r=t._d;c&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[h](n*e+r.o,i,St)},P=function(t,e){O(t,e,{get:function(){return S(this,e)},set:function(t){return $(this,e,t)},enumerable:!0})};m?(p=n((function(t,n,i,r){u(t,p,l,"_d");var o,a,s,c,d=0,h=0;if(E(n)){if(!(n instanceof Q||(c=x(n))==U||c==j))return _t in n?Rt(p,n):Dt.call(p,n);o=n,h=Pt(i,e);var w=n.byteLength;if(void 0===r){if(w%e)throw z(bt);if(a=w-h,a<0)throw z(bt)}else if(a=y(r)*e,a+h>w)throw z(bt);s=a/e}else s=v(n),a=s*e,o=new Q(a);f(t,"_d",{b:o,o:h,l:a,e:s,v:new J(o)});while(d<s)P(t,d++)})),_=p[V]=C(Ut),f(_,"constructor",p)):o((function(){p(1)}))&&o((function(){new p(-1)}))&&D((function(t){new p,new p(null),new p(1.5),new p(t)}),!0)||(p=n((function(t,n,i,r){var o;return u(t,p,l),E(n)?n instanceof Q||(o=x(n))==U||o==j?void 0!==r?new w(n,Pt(i,e),r):void 0!==i?new w(n,Pt(i,e)):new w(n):_t in n?Rt(p,n):Dt.call(p,n):new w(v(n))})),K(g!==Function.prototype?M(w).concat(M(g)):M(w),(function(t){t in p||f(p,t,w[t])})),p[V]=_,i||(_.constructor=p));var T=_[gt],I=!!T&&("values"==T.name||void 0==T.name),L=Bt.values;f(p,xt,!0),f(_,_t,l),f(_,Ct,!0),f(_,Et,p),(c?new p(1)[mt]==l:mt in _)||O(_,mt,{get:function(){return l}}),A[l]=p,a(a.G+a.W+a.F*(p!=w),A),a(a.S,l,{BYTES_PER_ELEMENT:e}),a(a.S+a.F*o((function(){w.of.call(p,1)})),l,{from:Dt,of:Xt}),G in _||f(_,G,e),a(a.P,l,Yt),X(l),a(a.P+a.F*$t,l,{set:Ot}),a(a.P+a.F*!I,l,Bt),i||_.toString==vt||(_.toString=vt),a(a.P+a.F*o((function(){new p(1).slice()})),l,{slice:kt}),a(a.P+a.F*(o((function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()}))||!o((function(){_.toLocaleString.call([1,2])}))),l,{toLocaleString:Wt}),N[l]=I?T:L,i||I||f(_,gt,L)}}else t.exports=function(){}},c017:function(t,e,n){var i=n("3837");t.exports=function(t,e){return new(i(t))(e)}},c58e:function(t,e,n){var i=n("6077");t.exports=Array.isArray||function(t){return"Array"==i(t)}},ce67:function(t,e,n){var i=n("e85e"),r=n("9952"),o=n("a9cf"),a=n("8941"),s=n("c017");t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d,h=e||s;return function(e,s,p){for(var y,v,w=o(e),g=r(w),m=i(s,p,3),x=a(g.length),E=0,A=n?h(e,x):c?h(e,0):void 0;x>E;E++)if((f||E in g)&&(y=g[E],v=m(y,E,w),t))if(n)A[E]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return E;case 2:A.push(y)}else if(u)return!1;return d?-1:l||u?u:A}}},da28:function(t,e,n){var i,r=n("3f8b"),o=n("b8ea"),a=n("4d2c"),s=a("typed_array"),c=a("view"),l=!(!r.ArrayBuffer||!r.DataView),u=l,d=0,f=9,h="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(d<f)(i=r[h[d++]])?(o(i.prototype,s,!0),o(i.prototype,c,!0)):u=!1;t.exports={ABV:l,CONSTR:u,TYPED:s,VIEW:c}},e40e:function(t,e,n){"use strict";var i=n("ef49"),r=n.n(i);r.a},e4d7:function(t,e,n){var i=n("a6ad"),r=n("8941");t.exports=function(t){if(void 0===t)return 0;var e=i(t),n=r(e);if(e!==n)throw RangeError("Wrong length!");return n}},ef49:function(t,e,n){}}]);