(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-14fe5ead"],{"0187":function(t,e,n){"use strict";var i=n("6b11"),r=n.n(i);r.a},"15c2":function(t,e,n){"use strict";var i=n("db4b"),r=n("5fe5"),a=n("b146");t.exports=function(t){var e=i(this),n=a(e.length),o=arguments.length,c=r(o>1?arguments[1]:void 0,n),s=o>2?arguments[2]:void 0,l=void 0===s?n:r(s,n);while(l>c)e[c++]=t;return e}},"1c74":function(t,e,n){var i=n("b2f5");i(i.P,"Array",{fill:n("15c2")}),n("644a")("fill")},"3ad6":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},r=[],a=(n("f763"),n("eb57")),o={data:function(){return{catalog:[],showPreview:!1,previewList:[],previewIndex:0}},mounted:function(){var t=this;t.$store.commit(a["a"].SWITCH_LOADING,!1),t.$nextTick(function(){window.addEventListener("scroll",t.doHandlerScroll);var e=document.querySelectorAll("code");e.length>0&&e.forEach(function(t){hljs.highlightBlock(t)});var n=document.querySelectorAll("h3.title");if(n.length>0){var i=[],r=Math.round(1e6*Math.random()),a="";t.catalog=n.forEach(function(t,e){a="section"+r+"-"+e,t.setAttribute("id",a),i.push({text:t.innerHTML,id:a,el:t,active:!1})}),t.catalog=i}var o=document.querySelectorAll(".content figure>img");o.length>0&&t.getImageSize(0,o)})},methods:{getImageSize:function(t,e){var n=this,i=new Image,r=e[t];i.onload=function(){n.previewList.push({src:r.src,w:this.width,h:this.height}),t++,t<e.length?n.getImageSize(t,e):n.$el.addEventListener("click",n.doPreview)},i.src=r.src},doPreview:function(t){var e=this;if(/img/i.test(t.target.tagName)&&!e.showPreview&&!t.target.classList.contains("pswp__img")){e.previewIndex=0;for(var n=0;n<e.previewList.length;n++)if(e.previewList[n].src==t.target.src){e.previewIndex=n;break}e.showPreview=!0}},doHandlerScroll:function(){for(var t,e,n=this,i=n.catalog.length-1;i>=0;i--)if(t=n.catalog[i].el,t.getBoundingClientRect().top<10){e=i;break}n.catalog=n.catalog.map(function(t,n){return t.active=n==e,t})}},beforeDestroy:function(){var t=this;window.removeEventListener("scroll",t.doHandlerScroll),t.previewList.length>0&&t.$el.removeEventListener("click",t.doPreview)}},c=o,s=n("6691"),l=Object(s["a"])(c,i,r,!1,null,null,null);e["a"]=l.exports},"6b11":function(t,e,n){},bf36:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container article-page"},[n("h2",{staticClass:"title"},[t._v("Canvas绘制的玫瑰曲线")]),n("div",{staticClass:"content"},[n("div",{ref:"grid",staticClass:"exp"},[n("canvas",{ref:"clock",staticClass:"clock",attrs:{width:"400",height:"400"}})]),n("h3",{staticClass:"title"},[t._v("The Code")]),n("p",[t._v("data定义：")]),t._m(0),n("p",[t._v("初始化：")]),t._m(1),n("p",[t._v("随着时间走：")]),t._m(2),n("p",[t._v("绘制：")]),t._m(3)]),n("footer",[t._v("2017年06月18日")]),n("Comments"),n("Catalog",{attrs:{catalog:t.catalog}})],1)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("return {\n    context: null,\n    centerX: 0, // 中心点\n    centerY: 0,\n    deg: 0\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("let that = this\nthat.$nextTick(() => {\n    that.init() // 绘制\n})\n\ninit () {\n    let that = this\n    let refs = that.$refs\n    let el = refs.clock\n    let box = refs.grid\n    let rect = box.getBoundingClientRect()\n    let w = (rect.right - rect.left) * 0.95\n    if (w < 400) {\n        el.style.width = w + 'px'\n        el.style.height = w + 'px'\n    }\n    let canvasWidth = el.getAttribute('width')\n    let canvasHeight = el.getAttribute('height')\n    that.centerX = canvasWidth / 2\n    that.centerY = canvasHeight / 2\n    that.context = el.getContext('2d')\n    that.startTimer()\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("startTimer () {\n    let that = this\n    let requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame\n    requestAnimationFrame(function () {\n        that.drawRose()\n        that.startTimer()\n    })\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("drawRose () {\n    let that = this\n    that.drawGrid()\n    that.drawRoseLine(1, 5, 29, 11)\n}\n\ndrawRoseLine (a, b, m, n) {\n    let that = this\n    let context = that.context\n    let e = 0\n    let c = 150\n    let k = 2 * Math.PI / 360\n    let r = 0\n    let x = 0\n    let y = 0\n    that.deg += k\n    context.save()\n    context.translate(that.centerX, that.centerY)\n    context.rotate(that.deg)\n    context.strokeStyle = 'rgba(255,0,0,0.6)'\n    context.fillStyle = 'rgba(255,0,0,0.1)'\n    context.beginPath()\n    while (e <= 4320) {\n        r = a / b + Math.sin(m * e / n * k)\n        r = r * c\n        x = r * Math.cos(e * k)\n        y = r * Math.sin(e * k)\n        e += 0.1\n        context.lineTo(x, y)\n    }\n    context.stroke()\n    context.fill()\n    context.restore()\n}")])])}],a=(n("1c74"),n("3ad6")),o={extends:a["a"],data:function(){return{context:null,centerX:0,centerY:0,deg:0}},mounted:function(){var t=this;t.$nextTick(function(){t.init()})},methods:{init:function(){var t=this,e=t.$refs,n=e.clock,i=e.grid,r=i.getBoundingClientRect(),a=.95*(r.right-r.left);a<400&&(n.style.width=a+"px",n.style.height=a+"px");var o=n.getAttribute("width"),c=n.getAttribute("height");t.centerX=o/2,t.centerY=c/2,t.context=n.getContext("2d"),t.startTimer()},startTimer:function(){var t=this,e=window.requestAnimationFrame||window.webkitRequestAnimationFrame;e(function(){t.drawRose(),t.startTimer()})},drawRose:function(){var t=this;t.drawGrid(),t.drawRoseLine(1,5,29,11)},drawGrid:function(){var t=this,e=t.context,n=e.canvas,i=n.width,r=n.height,a=10,o=10;e.clearRect(0,0,i,r),e.save(),e.beginPath(),e.strokeStyle="rgba(0,0,0,0.05)",e.lineWidth=.5;for(var c=a+.5;c<i;c+=a)e.beginPath(),e.moveTo(c,0),e.lineTo(c,r),e.stroke();for(var s=o+.5;s<r;s+=o)e.beginPath(),e.moveTo(0,s),e.lineTo(i,s),e.stroke();e.restore()},drawRoseLine:function(t,e,n,i){var r=this,a=r.context,o=0,c=150,s=2*Math.PI/360,l=0,h=0,d=0;r.deg+=s,a.save(),a.translate(r.centerX,r.centerY),a.rotate(r.deg),a.strokeStyle="rgba(255,0,0,0.6)",a.fillStyle="rgba(255,0,0,0.1)",a.beginPath();while(o<=4320)l=t/e+Math.sin(n*o/i*s),l*=c,h=l*Math.cos(o*s),d=l*Math.sin(o*s),o+=.1,a.lineTo(h,d);a.stroke(),a.fill(),a.restore()}}},c=o,s=(n("0187"),n("6691")),l=Object(s["a"])(c,i,r,!1,null,"2ddf6812",null);e["default"]=l.exports}}]);