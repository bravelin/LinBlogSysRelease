(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fd2b965"],{"12ee":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"phrases-page page-container"},[s("ul",{staticClass:"list"},t._l(t.list,function(e){return s("li",{key:e.id},[s("h4",[t._v(t._s(e.createdAt))]),s("h3",[t._v(t._s(e.content))]),s("div",[t._v("出自："+t._s(e.origin))])])}),0)])},i=[],n=s("873c"),r=s("eb57"),o=s("46f1"),c=s("f1ed"),l=20,p={name:"Phrases",data:function(){return{list:[],page:1,isLoading:!1,isOver:!1,scrollTop:0}},created:function(){var t=this,e=sessionStorage,s=e.getItem("phrase-list");s&&(t.list=JSON.parse(s));var a=e.getItem("phrase-over");a&&(t.isOver="1"==a);var i=e.getItem("phrase-top");i&&(t.scrollTop=i-0);var n=e.getItem("phrase-page");n&&n-0>1?t.page=n-0:t.getDataList(),t.$store.commit(r["a"].SWITCH_LOADING,!1)},mounted:function(){var t=this;t.$nextTick(function(){t.scrollTop&&setTimeout(function(){t.$el.scrollTop=t.scrollTop},300)})},methods:{doScroll:function(t){var e=this,s=e.$el,a=e.$refs.container,i=parseInt(getComputedStyle(a,null)["height"]),n=e.$store.state.winHeight;e.scrollTop=s.scrollTop,n+s.scrollTop+50>=i&&e.getDataList(e.page+1)},getDataList:function(t){var e=this;if(!e.isOver){if(e.isLoading)return;e.isLoading=!0,t=t||e.page,e.$ajax({url:o["a"].GET_PHRASE,params:{page:t}}).then(function(s){if(200==s.code){var a=s.data.dataList.map(function(t){return{id:t.id,content:t.content,origin:t.origin,createdAt:Object(c["b"])(new Date(t.createdAt),"yyyy/MM/dd hh:mm:ss")}});e.page=t,1==t?(e.$store.commit(r["a"].SWITCH_LOADING,!1),e.list=a):e.list=[].concat(Object(n["a"])(e.list),Object(n["a"])(a)),a.length<l&&(e.isOver=!0)}e.isLoading=!1})}}},beforeDestroy:function(){var t=this,e=sessionStorage;e.setItem("phrase-list",JSON.stringify(t.list)),e.setItem("phrase-page",t.page),e.setItem("phrase-over",t.isOver?"1":"0"),e.setItem("phrase-top",t.scrollTop)}},u=p,g=(s("8ac0"),s("6691")),h=Object(g["a"])(u,a,i,!1,null,null,null);e["default"]=h.exports},"321c":function(t,e,s){},"46f1":function(t,e,s){"use strict";e["a"]={GET_ARTICLES:"/api/client/articles",GET_PHRASE:"/api/client/phrases"}},"8ac0":function(t,e,s){"use strict";var a=s("321c"),i=s.n(a);i.a}}]);