(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8c056a86"],{"21bb":function(e,t,i){"use strict";var o=i("d575"),s=i.n(o);s.a},bb51:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container home-page",on:{scroll:e.doScroll}},[i("ul",{ref:"container",staticClass:"article-list"},e._l(e.list,(function(t){return i("li",{key:t.id,on:{click:function(i){return e.doViewPage(t)}}},[i("h4",[e._v(e._s(t.createdAt))]),i("h3",[e._v(e._s(t.title))]),i("div",[e._v(e._s(t.description))])])})),0)])},s=[],a=i("bedd"),r=i("eb57"),n=i("46f1"),c=i("f1ed"),l=15,u={name:"Home",data:function(){return{list:[],page:1,isLoading:!1,isOver:!1,scrollTop:0}},created:function(){var e=this,t=sessionStorage,i=t.getItem("home-list");i&&(e.list=JSON.parse(i));var o=t.getItem("home-over");o&&(e.isOver="1"==o);var s=t.getItem("home-top");s&&(e.scrollTop=s-0);var a=t.getItem("home-page");a&&a-0>1?e.page=a-0:e.getDataList(),e.$store.commit(r["a"].SWITCH_LOADING,!1)},mounted:function(){var e=this;e.$nextTick((function(){e.scrollTop&&setTimeout((function(){e.$el.scrollTop=e.scrollTop}),300)}))},methods:{doScroll:function(e){var t=this,i=t.$el,o=t.$refs.container,s=parseInt(getComputedStyle(o,null)["height"]),a=t.$store.state.winHeight;t.scrollTop=i.scrollTop,a+i.scrollTop+50>=s&&t.getDataList(t.page+1)},doViewPage:function(e){var t=e.id,i=e.type,o=e.routerName,s=this;0==i&&s.$router.push({name:o,query:{id:t}})},getDataList:function(e){var t=this;if(!t.isOver){if(t.isLoading)return;t.isLoading=!0,e=e||t.page,t.$ajax({url:n["a"].GET_ARTICLES,params:{page:e}}).then((function(i){if(200==i.code){var o=i.data.dataList.map((function(e){return{id:e.id,title:e.title,routerName:e.routerName,description:e.description,type:e.type,createdAt:Object(c["b"])(new Date(e.createdAt),"yyyy/MM/dd hh:mm:ss")}}));t.page=e,1==e?(t.$store.commit(r["a"].SWITCH_LOADING,!1),t.list=o):t.list=[].concat(Object(a["a"])(t.list),Object(a["a"])(o)),o.length<l&&(t.isOver=!0)}t.isLoading=!1}))}}},beforeDestroy:function(){var e=this,t=sessionStorage;t.setItem("home-list",JSON.stringify(e.list)),t.setItem("home-page",e.page),t.setItem("home-over",e.isOver?"1":"0"),t.setItem("home-top",e.scrollTop)}},p=u,d=(i("21bb"),i("4e82")),m=Object(d["a"])(p,o,s,!1,null,null,null);t["default"]=m.exports},d575:function(e,t,i){}}]);