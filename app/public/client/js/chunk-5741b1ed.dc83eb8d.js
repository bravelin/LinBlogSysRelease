(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5741b1ed"],{"3ad6":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},a=[],i=(n("4634"),n("eb57")),l={data:function(){return{catalog:[],showPreview:!1,previewList:[],previewIndex:0}},mounted:function(){var t=this;t.$store.commit(i["a"].SWITCH_LOADING,!1),t.$nextTick((function(){window.addEventListener("scroll",t.doHandlerScroll);var e=document.querySelectorAll("code");e.length>0&&e.forEach((function(t){hljs.highlightBlock(t)}));var n=document.querySelectorAll("h3.title");if(n.length>0){var r=[],a=Math.round(1e6*Math.random()),i="";t.catalog=n.forEach((function(t,e){i="section"+a+"-"+e,t.setAttribute("id",i),r.push({text:t.innerHTML,id:i,el:t,active:!1})})),t.catalog=r}var l=document.querySelectorAll(".content figure>img");l.length>0&&t.getImageSize(0,l)}))},methods:{getImageSize:function(t,e){var n=this,r=new Image,a=e[t];r.onload=function(){n.previewList.push({src:a.src,w:this.width,h:this.height}),t++,t<e.length?n.getImageSize(t,e):n.$el.addEventListener("click",n.doPreview)},r.src=a.src},doPreview:function(t){var e=this;if(/img/i.test(t.target.tagName)&&!e.showPreview&&!t.target.classList.contains("pswp__img")){e.previewIndex=0;for(var n=0;n<e.previewList.length;n++)if(e.previewList[n].src==t.target.src){e.previewIndex=n;break}e.showPreview=!0}},doHandlerScroll:function(){for(var t,e,n=this,r=n.catalog.length-1;r>=0;r--)if(t=n.catalog[r].el,t.getBoundingClientRect().top<10){e=r;break}n.catalog=n.catalog.map((function(t,n){return t.active=n==e,t}))}},beforeDestroy:function(){var t=this;window.removeEventListener("scroll",t.doHandlerScroll),t.previewList.length>0&&t.$el.removeEventListener("click",t.doPreview)}},s=l,o=n("4e82"),c=Object(o["a"])(s,r,a,!1,null,null,null);e["a"]=c.exports},4634:function(t,e,n){for(var r=n("96dd"),a=n("7d56"),i=n("a6d5"),l=n("3f8b"),s=n("b8ea"),o=n("e3b3"),c=n("1277"),h=c("iterator"),f=c("toStringTag"),d=o.Array,v={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},u=a(v),g=0;g<u.length;g++){var x,_=u[g],m=v[_],w=l[_],p=w&&w.prototype;if(p&&(p[h]||s(p,h,d),p[f]||s(p,f,_),o[_]=d,m))for(x in r)p[x]||i(p,x,r[x],!0)}},"7af0":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page-container article-page canvas-3-page"},[n("h2",{staticClass:"title"},[t._v("Canvas学习笔记之三：文本")]),n("div",{staticClass:"content"},[n("h3",{staticClass:"title"},[t._v("概述")]),n("p",[t._v("Canvas绘图环境提供的与文本有关的方法：")]),t._m(0),t._m(1),t._m(2),t._m(3),n("h3",{staticClass:"title"},[t._v("文本的描边与填充")]),n("p",[t._v("文本的描边（带阴影）：")]),n("div",{staticClass:"exp"},[n("canvas",{ref:"c1",attrs:{width:"300",height:"150"}})]),t._m(4),n("p",[t._v("文本的填充（带阴影）：")]),n("div",{staticClass:"exp"},[n("canvas",{ref:"c2",attrs:{width:"300",height:"150"}})]),t._m(5),n("p",[t._v("填充和描边：")]),n("div",{staticClass:"exp"},[n("canvas",{ref:"c3",attrs:{width:"300",height:"150"}})]),t._m(6),t._m(7),n("h3",{staticClass:"title"},[t._v("字型属性font设置")]),n("p",[t._v("font的各个分量：")]),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),n("h3",{staticClass:"title"},[t._v("文本的定位")]),t._m(14),t._m(15),t._m(16),n("h3",{staticClass:"title"},[t._v("在圆弧周围绘制文本")]),n("div",{staticClass:"exp"},[n("canvas",{ref:"c4",staticClass:"circle",attrs:{width:"300",height:"300"}})]),t._m(17)]),n("footer",[t._v("2016年06月25日")]),n("Comments"),n("Catalog",{attrs:{catalog:t.catalog}})],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("1、strokeText(text, x, y, maxWidth)")]),t._v("：文本的描边；")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("2、fillText(text, x, y, maxWidth)")]),t._v("：文本的填充；")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("3、measureText(text)")]),t._v("：计算文本所占据的宽度。")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[t._v("与文本有关的属性：\n                "),n("strong",[t._v("font")]),t._v("、\n                "),n("strong",[t._v("textAlign")]),t._v("、\n                "),n("strong",[t._v("textBaseline")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("drawStrokedText () {\n    let that = this\n    let el = that.$refs.c1\n    let context = el.getContext('2d')\n    let w = el.width\n    let h = el.height\n    context.textAlign = 'center'\n    context.textBaseline = 'middle'\n    context.strokeStyle = '#f96'\n    context.font = '80px 宋体'\n\n    // 增加阴影\n    context.shadowColor = 'rgba(0,0,0,0.6)'\n    context.shadowOffsetX = 5\n    context.shadowOffsetY = 5\n    context.shadowBlur = 8\n\n    context.strokeText('HTML5', w / 2, h / 2)\n}")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("context.fillStyle = '#f96'\ncontext.fillText('HTML5', w / 2, h / 2)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("context.strokeStyle = '#f96'\ncontext.fillStyle = '#f96'\ncontext.strokeText('HTML5', w / 2, h / 2)\ncontext.fillText('HTML5', w / 2, h / 2)")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("strokeText()和fillText()方法可以通过可选的第四参数来指定文本的最大宽度。")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("1、font-style")]),t._v("：可取值normal、italic（斜体字）、oblique（倾斜的字）")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("2、font-variant")]),t._v("：可取值normal、small-caps（设置小型大写字母显示，所有小写字母均会被转换为大写，但是字体会显的略小一点）")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("3、font-weight")]),t._v("：可取值normal、bold、bolder、lighter、100、200、300...900（normal相当于数值400，bold相当于数值700）")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("4、font-size")]),t._v("：可取值xx-small、x-small、medium、large、x-large、xx-large、smaller、larger、length与%")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("5、line-height")]),t._v("：浏览器强制设置为normal")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("6、font-family")]),t._v("：字体集名称")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("textAlign可以取的值有：start、center、end、left、right")]),t._v("，当canvas元素的dir属性是ltr时，left的效果与start相同，right的效果与end一致；当canvas元素的dir属性是rtl时，left的效果与end相同，right的效果与start一致。")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("textBaseline可以取的值有：top、bottom、middle、alphabetic、ideographic、hanging")]),t._v("，默认属性是alphabetic。")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("strong",[t._v("measureText(str)")]),t._v("：此方法可以度量文本的宽度。虽然是不够精确的。")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("pre",[n("code",[t._v("drawCircleText () {\n    let that = this\n    let el = that.$refs.c4\n    let context = el.getContext('2d')\n    let w = el.width\n    let h = el.height\n    let centerX = w / 2\n    let centerY = h / 2\n\n    context.fillStyle = '#f96'\n    context.strokeStyle = '#f96'\n    context.font = '32px 微软雅黑'\n    context.textAlign = 'center'\n    context.textBaseline = 'middle'\n\n    let textStr = 'ABCDEFGHIJKLNMOPQRSTUVWXYZ'\n    let radius = w / 2 - 22\n    let angleDelt = (2 * Math.PI) / textStr.length\n    let currAngle = 0\n    let currChar = ''\n\n    for (let k = 0; k < textStr.length; k++) {\n        currChar = textStr.charAt(k)\n        currAngle = (0.5 - k) * angleDelt\n        context.save()\n        context.beginPath()\n        context.translate(centerX + Math.cos(currAngle) * radius, centerY - Math.sin(currAngle) * radius)\n        context.rotate(Math.PI / 2 - currAngle)\n        context.fillText(currChar, 0, 0)\n        context.strokeText(currChar, 0, 0)\n        context.restore()\n    }\n}")])])}],i=n("3ad6"),l={extends:i["a"],data:function(){return{textRotateTimer:null,currRotateAngle:0,rotateSpeed:1,lastTime:0}},mounted:function(){var t=this;t.$nextTick((function(){t.drawStrokedText(),t.drawFilledText(),t.drawStrokedFilledText(),t.textRotateTimer=requestAnimationFrame(t.drawCircleText)}))},methods:{drawStrokedText:function(){var t=this,e=t.$refs.c1,n=e.getContext("2d"),r=e.width,a=e.height;n.textAlign="center",n.textBaseline="middle",n.strokeStyle="#f96",n.font="80px 宋体",n.shadowColor="rgba(0,0,0,0.6)",n.shadowOffsetX=5,n.shadowOffsetY=5,n.shadowBlur=8,n.strokeText("HTML5",r/2,a/2)},drawFilledText:function(){var t=this,e=t.$refs.c2,n=e.getContext("2d"),r=e.width,a=e.height;n.textAlign="center",n.textBaseline="middle",n.fillStyle="#f96",n.font="80px 宋体",n.shadowColor="rgba(0,0,0,0.6)",n.shadowOffsetX=5,n.shadowOffsetY=5,n.shadowBlur=8,n.fillText("HTML5",r/2,a/2)},drawStrokedFilledText:function(){var t=this,e=t.$refs.c3,n=e.getContext("2d"),r=e.width,a=e.height;n.textAlign="center",n.textBaseline="middle",n.fillStyle="#f96",n.strokeStyle="#f96",n.font="80px 宋体",n.shadowColor="rgba(0,0,0,0.6)",n.shadowOffsetX=5,n.shadowOffsetY=5,n.shadowBlur=8,n.strokeText("HTML5",r/2,a/2),n.fillText("HTML5",r/2,a/2)},drawCircleText:function(){var t=this,e=t.$refs.c4;if(e){var n=e.getContext("2d"),r=e.width,a=e.height,i=r/2,l=a/2;n.fillStyle="#f96",n.strokeStyle="#f96",n.font="32px 微软雅黑",n.textAlign="center",n.textBaseline="middle",n.clearRect(0,0,r,a);var s="ABCDEFGHIJKLNMOPQRSTUVWXYZ",o=r/2-22,c=2*Math.PI/s.length,h=0,f=0,d="",v=Date.now();0!=t.lastTime&&(f=t.currRotateAngle+t.rotateSpeed*(v-t.lastTime)/1e3),t.lastTime=v,t.currRotateAngle=f;for(var u=0;u<s.length;u++)d=s.charAt(u),h=(.5-u)*c+f,n.save(),n.beginPath(),n.translate(i+Math.cos(h)*o,l-Math.sin(h)*o),n.rotate(Math.PI/2-h),n.fillText(d,0,0),n.strokeText(d,0,0),n.restore();requestAnimationFrame(t.drawCircleText)}}},beforeDestroy:function(){var t=this;t.textRotateTimer&&cancelAnimationFrame(t.textRotateTimer)}},s=l,o=n("4e82"),c=Object(o["a"])(s,r,a,!1,null,null,null);e["default"]=c.exports}}]);